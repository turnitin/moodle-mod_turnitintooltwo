jQuery(document).ready(function($){function enableEditingText(i){$("#tabs-"+i+" .editable_date, #tabs-"+i+" .editable_text").editable("enable")}function disableEditingText(i){$("#tabs-"+i+" .editable_date, #tabs-"+i+" .editable_text").editable("disable")}function getLoadingGif(){var i='<div class="loading_gif"></div>';$("#cboxOverlay").after(i);var e=$(window).scrollTop()+$(window).height()/2;$(".loading_gif").css("top",e+"px")}function hideLoadingGif(){$(".loading_gif").remove()}function getSubmissions(table,assignment_id,part_id,start,refresh_requested,total){$.ajax({dataType:"json",type:"POST",url:"ajax.php",async:!0,data:{action:"get_submissions",assignment:assignment_id,part:part_id,start:start,refresh_requested:refresh_requested[part_id],sesskey:M.cfg.sesskey,total:total},success:function(result){if(eval(result),start=result.end,result.aaData.length>0&&table.fnAddData(result.aaData),result.end<result.total)getSubmissions(table,assignment_id,part_id,start,refresh_requested,result.total);else{$("#"+part_id+"_processing").attr("style","visibility: hidden"),refresh_requested[part_id]=0;var allrefreshed=1;$.each(refresh_requested,function(i,e){1==e&&(allrefreshed=0)}),1==allrefreshed&&($(".refreshing_link").hide(),$(".refresh_link").show()),submitVisibility(),enableEditingText(part_id),result.nonsubmitters>0&&$(".nonsubmitters_link").attr("style","display: block")}},error:function(i,e){$("#"+part_id+"_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.tiisubmissionsgeterror)}})}function submitVisibility(){1==$(".upload_box").data("user-type")||1==$(".upload_box").data("eula")?$(".upload_box").show():$(".upload_box").hide()}function refreshRubricSelect(){var i=$("#id_rubric").length?"#id_rubric":"#id_plagiarism_rubric",e=$(i).val();$.ajax({dataType:"json",type:"POST",url:"../mod/turnitintooltwo/ajax.php",data:{action:"refresh_rubric_select",assignment:$('input[name="instance"]').val(),modulename:$('input[name="modulename"]').val(),course:$('input[name="course"]').val()},success:function(t){$($(i)).empty();var s=t;$.each(s,function(e,t){$($(i)).append($("<option>",{value:e,text:t}))}),$(i+' option[value="'+e+'"]').attr("selected","selected")}})}function refreshUserMessages(){$(".messages_loading").show(),$(".messages_amount").html(""),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"refresh_user_messages",assignment:$("#assignment_id").html()},success:function(i){$(".messages_loading").hide(),$(".messages_amount").html(i)}})}function resetPeermarkSection(i){$("#tabs-"+i+" .toggle_peermarks").hide(),$("#tabs-"+i+" .peermark_count").html(""),$("#tabs-"+i+" .peermark-loading").show(),$("#tabs-"+i+" .peermark_assignments_container").hide()}function refreshPeermarkAssignments(part_id,refresh_requested){var user_role=$(".tii_peermark_manager_launch").length>0?"Instructor":"Learner";$("#tabs-"+part_id+" .peermark_assignments_container").length>0&&(resetPeermarkSection(part_id),$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"refresh_peermark_assignments",assignment:$("#assignment_id").html(),part:part_id,refresh_requested:refresh_requested,sesskey:M.cfg.sesskey},success:function(data){eval(data),$("#tabs-"+part_id+" .peermark_assignments_container").html(data.peermark_table),$("#tabs-"+part_id+" .peermark-loading").hide(),$("#tabs-"+part_id+" .peermark_count").html(data.no_of_peermarks),data.no_of_peermarks>0?$("#tabs-"+part_id+" .toggle_peermarks").show():$("#tabs-"+part_id+" .toggle_peermarks").hide(),(data.no_of_peermarks>0&&"Instructor"==user_role||data.peermarks_active&&"Learner"==user_role)&&$("#tabs-"+part_id+" .row_peermark_reviews").show(),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())&&data.no_of_peermarks>0?($(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())}}))}function initialiseUnanoymiseForm(scope,assignment_id,submission_id){var identifier="a.unanonymise";"row"==scope&&(identifier="#submission_"+submission_id),$(identifier).colorbox({inline:!0,width:"50%",top:"100px",height:"260px",opacity:"0.7",className:"tii_unanonymise_reveal_form",onComplete:function(){var idStr=$(this).attr("id").split("_");if(0==submission_id||void 0==submission_id)var submission_id=idStr[1];0==assignment_id&&(assignment_id=$("#assignment_id").html()),$("#submission_id").html(submission_id),$("#cboxLoadedContent .unanonymise_form").show(),$("#id_reveal").unbind("click"),$("#id_reveal").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"reveal_submission_name",assignment:assignment_id,submission_id:submission_id,reason:encodeURIComponent($("#id_anonymous_reveal_reason").val()),sesskey:M.cfg.sesskey},success:function(data){if(eval(data),"success"==data.status)$.colorbox.close(),$("#submission_"+submission_id).attr("href",M.cfg.wwwroot+"/user/view.php?id="+data.userid+"&course="+data.courseid),$("#submission_"+submission_id).html(data.name),$("#submission_"+submission_id).removeClass("unanonymise cboxElement");else{var current_msg=$("#unanonymise_desc").html;$("#unanonymise_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".unanonymise_form").hide()}})}function initialiseUploadBox(i,e,t,s){var a=".upload_box";"row"==i&&(a="#upload_"+e+"_"+t+"_"+s);var n="80%",o="80%";$(a).colorbox({onLoad:function(){getLoadingGif(),lightBoxCloseButton(),$(this).hide()},onClosed:function(){hideLoadingGif()},onCleanup:function(){hideLoadingGif();var i=$(this).attr("id").split("_");refreshInboxRow("upload",i[1],i[2],i[3]),$("#tii_close_bar").remove()},iframe:!0,width:n,height:o,opacity:"0.7",className:"upload",transition:"none"})}function initialiseZipDownloads(i){$("#tabs-"+i+" .orig_zip_open, #tabs-"+i+" .pdf_zip_open, #tabs-"+i+" .xls_inbox_open").unbind("click"),$("#tabs-"+i+" .orig_zip_open, #tabs-"+i+" .pdf_zip_open, #tabs-"+i+" .xls_inbox_open").click(function(){var i=$(this).attr("id").split("_");downloadZipFile(i[0]+"_"+i[1],i[2])}),$("#tabs-"+i+" .downloadpdf_box").colorbox({iframe:!0,width:"40%",height:"60%",opacity:"0.7",className:"downloadpdf_window",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),$(document).on("click","#tabs-"+i+" .gmpdfzip_box",function(e){return $(this).colorbox({open:!0,iframe:!0,width:"786px",height:"300px",opacity:"0.7",className:"gmpdfzip_window",transition:"none",href:function(){var e="";return $("#tabs-"+i+" .inbox_checkbox:checked").each(function(i){e+="&submission_id"+i+"="+$(this).val(),i++}),$(this).attr("href")+e},onLoad:function(){getLoadingGif()},onCleanup:function(){hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),!1})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseDigitalReceipt(){$(".tii_digital_receipt").length>0&&$(".tii_digital_receipt").colorbox({iframe:!0,width:"832px",height:"482px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}})}function initialiseHiddenZipDownloads(i){$("#tabs-"+i+" .origchecked_zip_open").unbind("click"),$("#tabs-"+i+" .origchecked_zip_open").click(function(){var e=$(this).attr("id").split("_");return downloadZipFile(e[0]+"_"+e[1],i),!1})}function initialiseRefreshRow(i,e,t,s){var a=".refresh_row .fa-refresh";"row"==i&&(a="#refreshrow_"+e+"_"+t+"_"+s+" .fa-refresh"),$(a).unbind("click"),$(a).click(function(){$(this).hide(),$(this).siblings(".fa-spinner").css("display","inline-block").addClass("fa-lg");var i=$(this).parent().attr("id").split("_");refreshInboxRow(i[0],i[1],i[2],i[3])})}function initialiseDVLaunchers(i,e,t,s){var a="#"+t+" .download_original_open";"row"==i&&(a="#downloadoriginal_"+e+"_"+t+"_"+s),$(a).unbind("click"),$(a).click(function(){var i=$(this).attr("id").split("_");$(this).children(".score_colour").hasClass("score_colour_")||downloadOriginalFile(i[0],i[1],i[2],i[3])})}function downloadZipFile(i,e){var t=[];"origchecked_zip"!=i&&"gmpdf_zip"!=i||$("#tabs-"+e+" .inbox_checkbox:checked").each(function(i){t[i]=$(this).val()}),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:i,assignment:$("#assignment_id").html(),part:e,submission_ids:t},success:function(t){$("#"+i+"_form_"+e).html(t),$("#"+i+"_form_"+e).children("form").submit(),$("#"+i+"_form_"+e).html("")}})}function downloadOriginalFile(i,e,t,s){$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"html",data:{action:i,submission:e,assignment:$("#assignment_id").html()},success:function(t){$("#"+i+"_form_"+e).html(t),$("#"+i+"_form_"+e).children("form").submit(),$("#"+i+"_form_"+e).html("")}})}function checkDVClosed(i){window.dvWindow.closed?$("#refresh_"+i).click():setTimeout(function(){checkDVClosed(i)},500)}function submitNothing(user_id,part_id){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-spin fa-spinner fa-lg"),$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"submit_nothing",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){eval(data),$.cookie("submitnothingaccept",!0,{expires:365}),$("table#"+part_id+" .select_all_checkbox").attr("checked",!1)},error:function(i){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-pencil fa-lg"),$("#submitnothing_0_"+part_id+"_"+user_id).removeClass("disabled"),alert(i.responseText)},complete:function(){refreshInboxRow("submitnothing",0,part_id,user_id)}})}function refreshInboxRow(link,submission_id,part_id,user_id){$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"refresh_submission_row",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){$("table#"+part_id+" .select_all_checkbox").attr("checked",!1),eval(data);var i=0;0==submission_id?(link+="_0",submission_id=data.submission_id):link=null==data.submission_id&&0!=submission_id?link+"_"+submission_id:link+"_"+data.submission_id,0!=submission_id&&$("#export_links").removeClass("hidden_class"),oTable=$("table#"+part_id).dataTable();var tr=$("#"+link+"_"+part_id+"_"+user_id).parent().parent(),rowindex=tr.index();oTable.fnDeleteRow(tr),oTable.fnAddData(data.row),submitVisibility(),initialiseUploadBox("row",data.submission_id,part_id,user_id),initialiseDVLaunchers("row",data.submission_id,part_id,user_id),initialiseRefreshRow("row",data.submission_id,part_id,user_id),initialiseCheckboxes(data.submission_id,part_id),initialiseUnanoymiseForm("row",$("#assignment_id").html(),data.submission_id)}})}function initialiseCheckboxes(i,e){var t="#tabs-"+e+" .inbox_checkbox";0!=i&&(t="check_"+i),$("#tabs-"+e+" .inbox_checkbox").click(function(){$("table#"+e+" .select_all_checkbox").attr("checked",!1)}),$(document).on("click",t+", .select_all_checkbox",function(){$("#tabs-"+e+" .inbox_checkbox:checked").length>0?($("#tabs-"+e+" .zip_downloads").slideDown(),initialiseHiddenZipDownloads(e)):($("#tabs-"+e+" .origchecked_zip_open").unbind("click"),$("#tabs-"+e+" .zip_downloads").slideUp())})}function showPartDatesBoxes(){for(var i=0;i<=5;i++)i<=$("#id_numparts").val()?$('fieldset[id$="partdates'+i+'"]').slideDown():$('fieldset[id$="partdates'+i+'"]').slideUp()}if($(".js_required").show(),$(".js_hide").hide(),1==$("#id_submissiontype").val()&&$("#id_submissiontext").parent().parent().hide(),2==$("#id_submissiontype").val()&&$("#id_submissionfile").parent().parent().hide(),$("#id_submissionagreement").length&&$("#id_submitbutton").attr("disabled","disabled"),$("#id_submissionagreement").on("click",function(){$(this).is(":checked")?$("#id_submissionagreement").each(function(){$("#id_submitbutton").removeAttr("disabled")}):$("#id_submissionagreement").each(function(){$("#id_submitbutton").attr("disabled","disabled")})}),$(document).on("click",".delete_paper",function(){var i=$(this).data("confirm"),e=M.str.turnitintooltwo[i].replace(/\\n/g,"\n"),t=confirm(e);t&&$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"deletesubmission",sesskey:M.cfg.sesskey,paper:$(this).data("paper"),part:$(this).data("part"),assignment:$(this).data("assignment")},success:function(){window.location.href=window.location.href}})}),$(document).on("click",".submit_nothing",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var i=$(this).prop("id").split("_")[2],e=$(this).prop("id").split("_")[3],t=M.str.turnitintooltwo.submitnothingwarning.replace(/<br>/g,"\n").replace(/&#39;/g,"'"),s=$.cookie("submitnothingaccept");s||confirm(t)?submitNothing(e,i):$(this).removeClass("disabled")}}),$(document).on("change","#id_submissiontype",function(){1==$("#id_submissiontype").val()&&($("#id_submissiontext").parent().parent().hide(),$("#id_submissionfile").parent().parent().show()),2==$("#id_submissiontype").val()&&($("#id_submissionfile").parent().parent().hide(),$("#id_submissiontext").parent().parent().show())}),$(document).on("submit",".submission_form_container form",function(){return $("#id_submissiontitle").val().length>0&&($("#general").slideUp("slow"),$(".mod_turnitintooltwo .noticebox").slideUp("slow"),$(".submission_form_container form").slideUp("slow"),$("#submitting_loader").slideDown("slow"),!0)}),$(".toggle_summary").length>0&&($.cookie("show_summary_"+$("#assignment_id").html())||$.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_summary_"+$("#assignment_id").html())?($(".hide_summary_"+$("#assignment_id").html()).show(),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideDown()):($(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp()),$(".toggle_summary i").click(function(){$(this).hasClass("show_summary_"+$("#assignment_id").html())?($.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".hide_summary_"+$("#assignment_id").html()).show(),$(".introduction").slideDown()):($.cookie("show_summary_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp())})),$(".toggle_peermarks").length>0&&($.cookie("show_peermarks_"+$("#assignment_id").html())||$.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())?($(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp()),$(".toggle_peermarks i").click(function(){$(this).hasClass("show_peermarks_"+$("#assignment_id").html())?($.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($.cookie("show_peermarks_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())})),$(document).on("click",".show_peermark_instructions, .hide_peermark_instructions",function(){var i=$(this).attr("id").split("_");"show"==i[0]?($("#show_peermark_instructions_"+i[3]).hide(),$("#hide_peermark_instructions_"+i[3]).show(),$("#peermark_instructions_"+i[3]).slideDown()):($("#show_peermark_instructions_"+i[3]).show(),$("#hide_peermark_instructions_"+i[3]).hide(),$("#peermark_instructions_"+i[3]).slideUp())}),showPartDatesBoxes(),$(document).on("change","#id_numparts",function(){showPartDatesBoxes()}),$("#dataTable").length>0&&$("#dataTable").dataTable(),"undefined"!=typeof M.str.turnitintooltwo)var dataTablesLang={sProcessing:'<span class="loading-message">'+M.str.turnitintooltwo.sprocessing+"</span>",sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};if($("#tabs").length>0){var activeTab=0;$("#tab_position").length>0&&(activeTab=$("#tab_position").text()),$("#tabs").tabs({active:activeTab,show:function(){var i=$.fn.dataTable.fnTables(!0);i.length>0&&$(i).dataTable().fnAdjustColumnSizing()}})}$(".enrolledMembers").length>0&&$(".enrolledMembers").dataTable({bProcessing:!0,sAjaxSource:"ajax.php",aoColumnDefs:[{bSortable:!1,sClass:"centered_cell",aTargets:[0]},{sClass:"left",aTargets:[1]}],oLanguage:dataTablesLang,fnServerData:function(i,e,t){$.ajax({dataType:"json",type:"POST",url:i,data:{action:"get_members",assignment:$("#assignment_id").html(),role:$("#user_role").html()},success:function(i){t(i)},error:function(i,e){$(".dataTables_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.membercheckerror)}})}});for(var submissionsDataTableColumns=[],visibleCols=[],noOfColumns=$("table.submissionsDataTable th").length/$("table.submissionsDataTable").length,showOrigReport=$("table.submissionsDataTable th.creport").length>0,useGradeMark=$("table.submissionsDataTable th.cgrade").length>0,multipleParts=$("table.submissionsDataTable th.coverallgrade").length>0,i=0;i<noOfColumns;i++)2==i?(submissionsDataTableColumns.push(null),visibleCols.push(!0)):4==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):5==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):12==i&&showOrigReport||11==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=8&&!showOrigReport&&!useGradeMark||i>=10&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=12&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||3==i||6==i||8==i&&showOrigReport||8==i&&!showOrigReport||10==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));var partTables=[],refreshRequested=[];$("table.submissionsDataTable").each(function(){var i=$(this).attr("id");refreshRequested[i]=0,partTables[i]=$("table#"+i).dataTable({bProcessing:!0,aoColumns:submissionsDataTableColumns,aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],aaSorting:[[2,"asc"],[4,"asc"]],sAjaxSource:"ajax.php",oLanguage:dataTablesLang,sDom:'r<"listbar-container"<"top listbar clearfix"lf>><"dt_pagination clearfix"pi>t<"bottom"><"dt_pagination clearfix"pi>',fnServerData:function(e,t,s){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"initialise_redraw"},success:function(e){disableEditingText(i),s(e),$("#"+i+"_processing").attr("style","visibility: visible"),getSubmissions(partTables[i],$("#assignment_id").html(),i,0,refreshRequested,0)}})},bStateSave:!0,fnStateSave:function(e,t){try{localStorage.setItem(i+"DataTables",JSON.stringify(t))}catch(s){}},fnStateSaveParams:function(i,e){e.abVisCols=visibleCols},fnStateLoad:function(e){try{return JSON.parse(localStorage.getItem(i+"DataTables"))}catch(t){}},fnStateLoadParams:function(i,e){e.abVisCols=visibleCols},fnDrawCallback:function(e){initialiseDigitalReceipt(),initialiseDVLaunchers("all",0,i,0),initialiseRefreshRow("all",0,i,0),initialiseUploadBox("all",0,0,0),initialiseZipDownloads(i),initialiseCheckboxes(0,i),initialiseUnanoymiseForm("all",0,0)}})}),$("table.submissionsDataTable").each(function(){var i=$(this).attr("id");refreshPeermarkAssignments(i,0)}),$(".messages_amount").length>0&&refreshUserMessages(),$(".tii_table_functions").each(function(){var i=$(this).attr("id").split("tii_table_functions_")[1],e=$("#tii_table_functions_"+i).html();$("#tii_table_functions_"+i).remove(),$("#"+i+"_length").after(e),$(".messages_inbox").show(),$("#refresh_"+i).show(),$("#refreshing_"+i).hide()});var zip_downloads=$(".zip_downloads");if($.each(zip_downloads,function(){var i=$(this).attr("id").split("_")[1];$(this).remove(),$("#"+i+"_length").after($(this))}),"Learner"==$("#user_role").html()&&$(".dataTables_length, .dataTables_filter, .dt_pagination").hide(),$(".refresh_link").click(function(){return $(this).is(":visible")&&($(".refresh_link").hide(),$(".refreshing_link").show(),$("table.submissionsDataTable").each(function(){refreshRequested[$(this).attr("id")]=1,partTables[$(this).attr("id")].fnReloadAjax(),partTables[$(this).attr("id")].fnStandingRedraw()})),!1}),$("#turnitin_sync_all_grades").length>0&&$(".turnitin_sync_grades").click(function(){$(".turnitin_sync_grades").hide(),$(".turnitin_syncing_grades").show(),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"sync_all_submissions",assignment:$("#turnitin_sync_all_grades").data("turnitintooltwoid"),sesskey:M.cfg.sesskey},success:function(i){$(".turnitin_sync_grades").show(),$(".turnitin_syncing_grades").hide()}})}),$(".submission_failure_msg").length>0&&window.parent.$(".upload_box").colorbox.resize({width:"800px",height:"240px"}),$(".enrol_link").click(function(){$("#enrolling_error").hide(),$(".enrol_link").hide(),$(".enrolling_container").show(),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"enrol_all_students",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey},success:function(i){window.location.href=window.location.href},error:function(i,e){$(".enrol_link").show(),$(".enrolling_container").hide(),$("#enrolling_error").show()}})}),$(".rubric_manager_launch").length>0&&$(".rubric_manager_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){hideLoadingGif(),"rubric_manager_inbox_launch"!=$(this).attr("id")&&refreshRubricSelect(),$("#tii_close_bar").remove()}}),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$("#id_rubric, #id_plagiarism_rubric").focus(function(){""!=$('input[name="instance"]').val()&&"Y"!=$('input[name="rubric_warning_seen"]').val()&&confirm(M.str.turnitintooltwo.changerubricwarning)&&$('input[name="rubric_warning_seen"]').val("Y")}),($(".quickmark_manager_launch").length>0||$(".plagiarism_turnitin_quickmark_manager_launch").length>0)&&$(".quickmark_manager_launch, .plagiarism_turnitin_quickmark_manager_launch").colorbox({iframe:!0,width:"770px",height:"600px",opacity:"0.7",className:"quickmark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".tii_peermark_manager_launch").length>0&&$(".tii_peermark_manager_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){var i=$(this).attr("id").split("_");refreshPeermarkAssignments(i[2],1)}}),$(".tii_peermark_reviews_launch").length>0&&$(".tii_peermark_reviews_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_reviews",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".messages_inbox").length>0&&$(".messages_inbox").colorbox({iframe:!0,width:"772px",height:"772px",opacity:"0.7",className:"messages",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmitters_link").length>0&&$(".nonsubmitters_link").colorbox({iframe:!0,width:"740px",height:"540px",opacity:"0.7",className:"nonsubmitters",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmittersformsuccessmsg").length>0&&(hideLoadingGif(),window.parent.$(".nonsubmitters").colorbox.resize({width:"740px",height:"120px"})),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(document).on("click",".default_open, .origreport_open, .grademark_open",function(){var i=!0,e=$(this).attr("id").split("_"),t=$("#date_due_"+e[2]).html(),s=moment(t).unix(),a=e[0],n=e[1],o=e[2];if(s>moment().unix()&&$(this).hasClass("graded_warning")&&(confirm(M.str.turnitintooltwo.resubmissiongradewarn)||(i=!1)),i){dvWindow=window.open("","_blank");var r='<div style="text-align:center;">';r+='<img src="'+M.cfg.wwwroot+'/mod/turnitintooltwo/pix/tiiIcon.svg" style="width:100px; height: 100px">',r+='<p style="font-family: Arial, Helvetica, sans-serif;">'+M.str.turnitintooltwo.loadingdv+"</p>",r+="</div>",$(dvWindow.document.body).html(r),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:a,submission:n,assignment:$("#assignment_id").html()},success:function(i){$(dvWindow.document.body).html(r+i),dvWindow.document.forms[0].submit(),dvWindow.document.close(),checkDVClosed(o)}})}}),$("#id_rubric, #id_plagiarism_rubric").length>0&&refreshRubricSelect(),self!=top&&"box"==$("#view_context").html()?$("html").css("background","none"):self!=top&&"box_solid"==$("#view_context").html()&&$("html").css("background","#FFF"),$(".editable_postdue").on("click",function(){1==$(this).data("anon")&&alert(M.str.turnitintooltwo.postdate_warning)}),$(".editable_text").length>0){$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.url="ajax.php",$.fn.editable.defaults.onblur="submit",$.fn.editable.defaults.showbuttons=!1,$.fn.editable.defaults.ajaxOptions={dataType:"json"},$(".editable_text").editable({validate:function(i){if($(this).attr("id").indexOf("marks_")>=0&&(Math.floor(i)!=i||!$.isNumeric(i)||i.indexOf(".")!=-1))return M.str.turnitintooltwo.maxmarkserror},success:function(i,e){if(!i.success)return i.msg;if("maxmarks"==i.field)$("#refresh_"+i.partid).click();else if("partname"==i.field){var t=$(this).parentsUntil(".ui-tabs-panel").parent().attr("aria-labelledby");$("#"+t).text(e)}}}),$("#export_options").hasClass("tii_export_options_hide")&&($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')),$(".editable_postdue").on("click",function(){var i=$(this);$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"check_anon",part:i.data("pk"),assignment:$("#assignment_id").html()},success:function(e){i.data("anon",e.anon),i.data("unanon",e.unanon),i.data("submitted",e.submitted)}})});var theDate=new Date;$(".editable_date").editable({type:"combodate",format:"YYYY-MM-DD HH:mm",viewformat:"D MMM YYYY, HH:mm",template:"D MMM YYYY  HH:mm",combodate:{minuteStep:1,minYear:2e3,maxYear:theDate.getFullYear()+2,smartDays:!0},validate:function(i){if(i.format("X")<moment().unix()&&$(this).hasClass("editable_postdue")&&1==$(this).data("anon")&&0==$(this).data("unanon")&&1==$(this).data("submitted")&&!confirm(M.str.turnitintooltwo.disableanonconfirm))return $(".editable-open").editableContainer("hide")," "},success:function(i,e){return i.success?($("#refresh_"+i.partid).click(),void("tii_export_options_hide"==i.export_option?($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')):($(".empty-dash").remove(),$("#export_options").show()))):i.msg}}),$(".editable_date").click(function(){if($(this).hasClass("editable-disabled"))return!1}),$(".editable_date, .editable_text").on("shown",function(i,e){var t=$(this).prop("id");$(".editable_date, .editable_text").not("#"+t).editable("disable"),$(".submit_nothing").addClass("disabled")}),$(".editable_date, .editable_text").on("hidden",function(){var i=$(this).prop("id");$(".editable_date, .editable_text").not("#"+i).editable("enable"),$(".submit_nothing").removeClass("disabled")})}$("#inbox_form form, .launch_form form").submit(),$(".turnitin_eula_link").length>0&&$(".turnitin_eula_link").colorbox({iframe:!0,width:"766px",height:"596px",opacity:"0.7",className:"eula_view",scrolling:"false",onLoad:function(){getLoadingGif()},onComplete:function(){$(window).on("message",function(i){var e="undefined"==typeof i.data?i.originalEvent.data:i.data;$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"acceptuseragreement",message:e,sesskey:M.cfg.sesskey},success:function(i){window.location.reload()},error:function(i){window.location.reload()}})})},onCleanup:function(){hideLoadingGif()}}),$("#tii_receipt_print").click(function(){window.print()}),$(".select_all_checkbox").on("click",function(){var i=$(this).parent().parent().parent().parent().attr("id");$(this).is(":checked")?($("#"+i+" .inbox_checkbox").length&&$("#tabs-"+i+" .zip_downloads").slideDown(),$("#"+i+" .inbox_checkbox").each(function(){$(this).prop("checked",!0)})):($("#"+i+" .inbox_checkbox").each(function(){$(this).prop("checked",!1)}),$("#"+i+" .inbox_checkbox").length&&$("#tabs-"+i+" .zip_downloads").slideUp())}),$("[id^=fitem_id_dtpost] select").change(function(){var i=$(this).parent().parent().parent(),e=buildUnixDate("#fitem_id_dtpost",i.data("partId"));e<moment().unix()&&1==i.data("anon")&&0==i.data("unanon")&&1==i.data("submitted")&&alert(M.str.turnitintooltwo.anonalert)});var buildUnixDate=function(i,e){var t=["_day","_month","_year","_hour","_minute"];$this=$(i+e);var s="";return $.each(t,function(i,t){s+=$this.find("[id$="+e+t+"] option:selected").text(),"_year"===t?s+=" ":"_hour"===t?s+=":":"_minute"!==t&&(s+="-")}),moment(s,"DD-MMMM-YYYY hh:mm").unix()}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3by5qcyJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImVuYWJsZUVkaXRpbmdUZXh0IiwicGFydF9pZCIsImVkaXRhYmxlIiwiZGlzYWJsZUVkaXRpbmdUZXh0IiwiZ2V0TG9hZGluZ0dpZiIsImltZyIsImFmdGVyIiwidG9wIiwid2luZG93Iiwic2Nyb2xsVG9wIiwiaGVpZ2h0IiwiY3NzIiwiaGlkZUxvYWRpbmdHaWYiLCJyZW1vdmUiLCJnZXRTdWJtaXNzaW9ucyIsInRhYmxlIiwiYXNzaWdubWVudF9pZCIsInN0YXJ0IiwicmVmcmVzaF9yZXF1ZXN0ZWQiLCJ0b3RhbCIsImFqYXgiLCJkYXRhVHlwZSIsInR5cGUiLCJ1cmwiLCJhc3luYyIsImRhdGEiLCJhY3Rpb24iLCJhc3NpZ25tZW50IiwicGFydCIsInNlc3NrZXkiLCJNIiwiY2ZnIiwic3VjY2VzcyIsInJlc3VsdCIsImV2YWwiLCJlbmQiLCJhYURhdGEiLCJsZW5ndGgiLCJmbkFkZERhdGEiLCJhdHRyIiwiYWxscmVmcmVzaGVkIiwiZWFjaCIsImsiLCJ2IiwiaGlkZSIsInNob3ciLCJzdWJtaXRWaXNpYmlsaXR5Iiwibm9uc3VibWl0dGVycyIsImVycm9yIiwicmVzcG9uc2UiLCJodG1sIiwic3RyIiwidHVybml0aW50b29sdHdvIiwidGlpc3VibWlzc2lvbnNnZXRlcnJvciIsInJlZnJlc2hSdWJyaWNTZWxlY3QiLCJydWJyaWNFbGVtZW50SWQiLCJjdXJyZW50UnVicmljIiwidmFsIiwibW9kdWxlbmFtZSIsImNvdXJzZSIsImVtcHR5Iiwib3B0aW9ucyIsImkiLCJhcHBlbmQiLCJ2YWx1ZSIsInRleHQiLCJyZWZyZXNoVXNlck1lc3NhZ2VzIiwicmVzZXRQZWVybWFya1NlY3Rpb24iLCJyZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyIsInVzZXJfcm9sZSIsInBlZXJtYXJrX3RhYmxlIiwibm9fb2ZfcGVlcm1hcmtzIiwicGVlcm1hcmtzX2FjdGl2ZSIsImNvb2tpZSIsInNsaWRlRG93biIsInNsaWRlVXAiLCJpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0iLCJzY29wZSIsInN1Ym1pc3Npb25faWQiLCJpZGVudGlmaWVyIiwiY29sb3Jib3giLCJpbmxpbmUiLCJ3aWR0aCIsIm9wYWNpdHkiLCJjbGFzc05hbWUiLCJvbkNvbXBsZXRlIiwiaWRTdHIiLCJ0aGlzIiwic3BsaXQiLCJ1bmRlZmluZWQiLCJ1bmJpbmQiLCJjbGljayIsInJlYXNvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0YXR1cyIsImNsb3NlIiwid3d3cm9vdCIsInVzZXJpZCIsImNvdXJzZWlkIiwibmFtZSIsInJlbW92ZUNsYXNzIiwiY3VycmVudF9tc2ciLCJtc2ciLCJvbkNsZWFudXAiLCJpbml0aWFsaXNlVXBsb2FkQm94IiwidXNlcl9pZCIsImNvbG9yQm94V2lkdGgiLCJjb2xvckJveEhlaWdodCIsIm9uTG9hZCIsImxpZ2h0Qm94Q2xvc2VCdXR0b24iLCJvbkNsb3NlZCIsInJlZnJlc2hJbmJveFJvdyIsImlmcmFtZSIsInRyYW5zaXRpb24iLCJpbml0aWFsaXNlWmlwRG93bmxvYWRzIiwiZG93bmxvYWRaaXBGaWxlIiwib24iLCJlIiwib3BlbiIsImhyZWYiLCJzdWJtaXNzaW9uX2lkcyIsImNsb3NlYnV0dG9uIiwiaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0IiwiaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyIsImluaXRpYWxpc2VSZWZyZXNoUm93Iiwic2libGluZ3MiLCJhZGRDbGFzcyIsInBhcmVudCIsImluaXRpYWxpc2VEVkxhdW5jaGVycyIsImNoaWxkcmVuIiwiaGFzQ2xhc3MiLCJkb3dubG9hZE9yaWdpbmFsRmlsZSIsImRvd25sb2FkdHlwZSIsInN1Ym1pdCIsImR2dHlwZSIsInN1Ym1pc3Npb24iLCJjaGVja0RWQ2xvc2VkIiwiZHZXaW5kb3ciLCJjbG9zZWQiLCJzZXRUaW1lb3V0Iiwic3VibWl0Tm90aGluZyIsInVzZXIiLCJleHBpcmVzIiwiYWxlcnQiLCJyZXNwb25zZVRleHQiLCJjb21wbGV0ZSIsImxpbmsiLCJvVGFibGUiLCJkYXRhVGFibGUiLCJ0ciIsInJvd2luZGV4IiwiaW5kZXgiLCJmbkRlbGV0ZVJvdyIsInJvdyIsImluaXRpYWxpc2VDaGVja2JveGVzIiwic2hvd1BhcnREYXRlc0JveGVzIiwiaXMiLCJyZW1vdmVBdHRyIiwiY29uZmlybXN0cm5hbWUiLCJjb25maXJtc3RyIiwicmVwbGFjZSIsImNvbmZpcm1yZXN1bHQiLCJjb25maXJtIiwicGFwZXIiLCJsb2NhdGlvbiIsInByb3AiLCJzdHVkZW50X2lkIiwibWVzc2FnZSIsInN1Ym1pdG5vdGhpbmd3YXJuaW5nIiwiY29va2llc2VlbiIsImRhdGFUYWJsZXNMYW5nIiwic1Byb2Nlc3NpbmciLCJzcHJvY2Vzc2luZyIsInNaZXJvUmVjb3JkcyIsInN6ZXJvcmVjb3JkcyIsInNJbmZvIiwic2luZm8iLCJzU2VhcmNoIiwic3NlYXJjaCIsInNMZW5ndGhNZW51Iiwic2xlbmd0aG1lbnUiLCJvUGFnaW5hdGUiLCJzTmV4dCIsInNuZXh0Iiwic1ByZXZpb3VzIiwic3ByZXZpb3VzIiwiYWN0aXZlVGFiIiwidGFicyIsImFjdGl2ZSIsImZuIiwiZm5UYWJsZXMiLCJmbkFkanVzdENvbHVtblNpemluZyIsImJQcm9jZXNzaW5nIiwic0FqYXhTb3VyY2UiLCJhb0NvbHVtbkRlZnMiLCJiU29ydGFibGUiLCJzQ2xhc3MiLCJhVGFyZ2V0cyIsIm9MYW5ndWFnZSIsImZuU2VydmVyRGF0YSIsInNTb3VyY2UiLCJhb0RhdGEiLCJmbkNhbGxiYWNrIiwicm9sZSIsIm1lbWJlcmNoZWNrZXJyb3IiLCJzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMiLCJ2aXNpYmxlQ29scyIsIm5vT2ZDb2x1bW5zIiwic2hvd09yaWdSZXBvcnQiLCJ1c2VHcmFkZU1hcmsiLCJtdWx0aXBsZVBhcnRzIiwicHVzaCIsImlEYXRhU29ydCIsInNUeXBlIiwiYlZpc2libGUiLCJwYXJ0VGFibGVzIiwicmVmcmVzaFJlcXVlc3RlZCIsImFvQ29sdW1ucyIsImFMZW5ndGhNZW51IiwiYWFTb3J0aW5nIiwic0RvbSIsImJTdGF0ZVNhdmUiLCJmblN0YXRlU2F2ZSIsIm9TZXR0aW5ncyIsIm9EYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmblN0YXRlU2F2ZVBhcmFtcyIsImFiVmlzQ29scyIsImZuU3RhdGVMb2FkIiwicGFyc2UiLCJnZXRJdGVtIiwiZm5TdGF0ZUxvYWRQYXJhbXMiLCJmbkRyYXdDYWxsYmFjayIsInRpaV90YWJsZV9mdW5jdGlvbnMiLCJ6aXBfZG93bmxvYWRzIiwiZm5SZWxvYWRBamF4IiwiZm5TdGFuZGluZ1JlZHJhdyIsInJlc2l6ZSIsImZvY3VzIiwiY2hhbmdlcnVicmljd2FybmluZyIsImNsb3NlQnV0dG9uIiwicHJvY2VlZCIsImR1ZV9kYXRlIiwiZHVlX2RhdGVfdW5peCIsIm1vbWVudCIsInVuaXgiLCJyZXN1Ym1pc3Npb25ncmFkZXdhcm4iLCJsb2FkaW5nIiwibG9hZGluZ2R2IiwiYm9keSIsImZvcm1zIiwic2VsZiIsInBvc3RkYXRlX3dhcm5pbmciLCJkZWZhdWx0cyIsIm1vZGUiLCJvbmJsdXIiLCJzaG93YnV0dG9ucyIsImFqYXhPcHRpb25zIiwidmFsaWRhdGUiLCJpbmRleE9mIiwiTWF0aCIsImZsb29yIiwiaXNOdW1lcmljIiwibWF4bWFya3NlcnJvciIsIm5ld1ZhbHVlIiwiZmllbGQiLCJwYXJ0aWQiLCJ0YWJJZCIsInBhcmVudHNVbnRpbCIsIiR0aGlzIiwidGhlRGF0ZSIsIkRhdGUiLCJmb3JtYXQiLCJ2aWV3Zm9ybWF0IiwidGVtcGxhdGUiLCJjb21ib2RhdGUiLCJtaW51dGVTdGVwIiwibWluWWVhciIsIm1heFllYXIiLCJnZXRGdWxsWWVhciIsInNtYXJ0RGF5cyIsImRpc2FibGVhbm9uY29uZmlybSIsImVkaXRhYmxlQ29udGFpbmVyIiwiZXhwb3J0X29wdGlvbiIsImN1cnJlbnQiLCJub3QiLCJzY3JvbGxpbmciLCJldiIsIm9yaWdpbmFsRXZlbnQiLCJyZWxvYWQiLCJwcmludCIsImlkIiwiY2hhbmdlIiwiZGF0YUVsIiwicG9zdF9kYXRlIiwiYnVpbGRVbml4RGF0ZSIsImFub25hbGVydCIsImVsIiwiZGF0ZSIsImZpbmQiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxVQUFVQyxNQUFNLFNBQVNDLEdBMnhCNUIsUUFBU0MsbUJBQWtCQyxHQUN2QkYsRUFBRSxTQUFXRSxFQUFVLDBCQUE0QkEsRUFBVSxtQkFBbUJDLFNBQVMsVUFJN0YsUUFBU0Msb0JBQW1CRixHQUN4QkYsRUFBRSxTQUFXRSxFQUFVLDBCQUE0QkEsRUFBVSxtQkFBbUJDLFNBQVMsV0FHN0YsUUFBU0UsaUJBQ0wsR0FBSUMsR0FBTSxpQ0FDVk4sR0FBRSxnQkFBZ0JPLE1BQU1ELEVBQ3hCLElBQUlFLEdBQU1SLEVBQUVTLFFBQVFDLFlBQWVWLEVBQUVTLFFBQVFFLFNBQVcsQ0FDeERYLEdBQUUsZ0JBQWdCWSxJQUFJLE1BQU9KLEVBQU0sTUFHdkMsUUFBU0ssa0JBQ0xiLEVBQUUsZ0JBQWdCYyxTQUd0QixRQUFTQyxnQkFBZUMsTUFBT0MsY0FBZWYsUUFBU2dCLE1BQU9DLGtCQUFtQkMsT0FDN0VwQixFQUFFcUIsTUFDRUMsU0FBWSxPQUNaQyxLQUFRLE9BQ1JDLElBQU8sV0FDUEMsT0FBUyxFQUNUQyxNQUFTQyxPQUFRLGtCQUFtQkMsV0FBWVgsY0FBZVksS0FBTTNCLFFBQVNnQixNQUFPQSxNQUNqRkMsa0JBQW1CQSxrQkFBa0JqQixTQUFVNEIsUUFBU0MsRUFBRUMsSUFBSUYsUUFBU1YsTUFBT0EsT0FDbEZhLFFBQVcsU0FBU0MsUUFRaEIsR0FQQUMsS0FBS0QsUUFDTGhCLE1BQVFnQixPQUFPRSxJQUVYRixPQUFPRyxPQUFPQyxPQUFTLEdBQ3ZCdEIsTUFBTXVCLFVBQVVMLE9BQU9HLFFBR3ZCSCxPQUFPRSxJQUFNRixPQUFPZCxNQUNwQkwsZUFBZUMsTUFBT0MsY0FBZWYsUUFBU2dCLE1BQU9DLGtCQUFtQmUsT0FBT2QsV0FDNUUs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RUFBRSxTQUFXdVMsRUFBSyxtQkFBbUIzTixhQU1qRDVFLEVBQUUsZ0NBQWdDd1MsT0FBTyxXQUVyQyxHQUFJQyxHQUFTelMsRUFBRXdGLE1BQU13QyxTQUFTQSxTQUFTQSxTQUNuQzBLLEVBQVlDLGNBQWMsbUJBQW9CRixFQUFPL1EsS0FBSyxVQUV6RGdSLEdBQVlsRCxTQUFTQyxRQUFpQyxHQUF2QmdELEVBQU8vUSxLQUFLLFNBQXlDLEdBQXpCK1EsRUFBTy9RLEtBQUssV0FBOEMsR0FBNUIrUSxFQUFPL1EsS0FBSyxjQUN0R3NILE1BQU1qSCxFQUFFcUIsSUFBSUMsZ0JBQWdCdVAsWUFLcEMsSUFBSUQsZUFBZ0IsU0FBU0UsRUFBSTNTLEdBRTdCLEdBQUlnQixJQUFVLE9BQVEsU0FBVSxRQUFTLFFBQVMsVUFFbEQrUCxPQUFRalIsRUFBRTZTLEVBQUszUyxFQUdmLElBQUk0UyxHQUFPLEVBYVgsT0FaQTlTLEdBQUUwQyxLQUFLeEIsRUFBTyxTQUFTeUIsRUFBR0MsR0FDdEJrUSxHQUFRN0IsTUFBTThCLEtBQUssUUFBVTdTLEVBQVUwQyxFQUFJLHFCQUFxQnNCLE9BQ3RELFVBQU50QixFQUNBa1EsR0FBUSxJQUNLLFVBQU5sUSxFQUNQa1EsR0FBUSxJQUNNLFlBQU5sUSxJQUNSa1EsR0FBUSxPQUtUdEQsT0FBT3NELEVBQU0sc0JBQXNCckQiLCJmaWxlIjoidHVybml0aW50b29sdHdvLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICAgICQoXCIuanNfcmVxdWlyZWRcIikuc2hvdygpO1xuICAgICQoXCIuanNfaGlkZVwiKS5oaWRlKCk7XG5cbiAgICAvLyBDb25maWd1cmUgc3VibWl0IHBhcGVyIGZvcm0gZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdoYXQgc3VibWlzc2lvbiB0eXBlIGlzIGFsbG93ZWQuXG4gICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMSkge1xuICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICB9XG5cbiAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAyKSB7XG4gICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUgYXNzaWdubWVudCBzdWJtaXNzaW9uIGlmIGEgc3VibWlzc2lvbiBhZ3JlZW1lbnQgZXhpc3RzIGFuZCBpcyBub3QgY2hlY2tlZC5cbiAgICBpZiAoKCQoXCIjaWRfc3VibWlzc2lvbmFncmVlbWVudFwiKS5sZW5ndGgpKSB7XG4gICAgICAgICQoJyNpZF9zdWJtaXRidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUvZW5hYmxlIGFzc2lnbm1lbnQgc3VibWlzc2lvbiB3aGVuIHRoZSBzdWJtaXNzaW9uIGNoZWNrYm94IGlzIGNoZWNrZWQvdW5jaGVja2VkLlxuICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAkKCcjaWRfc3VibWlzc2lvbmFncmVlbWVudCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI2lkX3N1Ym1pdGJ1dHRvbicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjaWRfc3VibWl0YnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRlbGV0ZV9wYXBlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTZXQgdXAgdGhlIGNvbmZpcm0gd2luZG93LlxuICAgICAgICB2YXIgY29uZmlybXN0cm5hbWUgPSAkKHRoaXMpLmRhdGEoXCJjb25maXJtXCIpO1xuICAgICAgICB2YXIgY29uZmlybXN0ciA9IE0uc3RyLnR1cm5pdGludG9vbHR3b1tjb25maXJtc3RybmFtZV0ucmVwbGFjZSgvXFxcXG4vZyxcIlxcblwiKTtcbiAgICAgICAgdmFyIGNvbmZpcm1yZXN1bHQgPSBjb25maXJtKGNvbmZpcm1zdHIpO1xuXG4gICAgICAgIGlmIChjb25maXJtcmVzdWx0KSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2RlbGV0ZXN1Ym1pc3Npb24nLFxuICAgICAgICAgICAgICAgICAgICBzZXNza2V5OiBNLmNmZy5zZXNza2V5LFxuICAgICAgICAgICAgICAgICAgICBwYXBlcjogJCh0aGlzKS5kYXRhKFwicGFwZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHBhcnQ6ICQodGhpcykuZGF0YShcInBhcnRcIiksXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnQ6ICQodGhpcykuZGF0YShcImFzc2lnbm1lbnRcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnN1Ym1pdF9ub3RoaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggJCh0aGlzKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5wcm9wKCdpZCcpLnNwbGl0KCdfJylbMl07XG4gICAgICAgIHZhciBzdHVkZW50X2lkID0gJCh0aGlzKS5wcm9wKCdpZCcpLnNwbGl0KCdfJylbM107XG4gICAgICAgIHZhciBtZXNzYWdlID0gTS5zdHIudHVybml0aW50b29sdHdvLnN1Ym1pdG5vdGhpbmd3YXJuaW5nLnJlcGxhY2UoLzxicj4vZywgXCJcXG5cIikucmVwbGFjZSgvJiMzOTsvZywgXCJcXCdcIik7XG4gICAgICAgIHZhciBjb29raWVzZWVuID0gJC5jb29raWUoJ3N1Ym1pdG5vdGhpbmdhY2NlcHQnKTtcbiAgICAgICAgaWYgKCBjb29raWVzZWVuIHx8IGNvbmZpcm0oIG1lc3NhZ2UgKSApIHtcbiAgICAgICAgICAgIHN1Ym1pdE5vdGhpbmcoc3R1ZGVudF9pZCwgcGFydF9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuXG4gICAgLy8gQ29uZmlndXJlIHN1Ym1pdCBwYXBlciBmb3JtIGVsZW1lbnRzIGRlcGVuZGluZyBvbiB3aGF0IHN1Ym1pc3Npb24gdHlwZSBpcyBzZWxlY3RlZC5cbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNpZF9zdWJtaXNzaW9udHlwZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAxKSB7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMikge1xuICAgICAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9uZmlsZVwiKS5wYXJlbnQoKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLnNob3coKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2hvdyBsb2FkaW5nIGlmIHN1Ym1pc3Npb24gcGFzc2VzIHZhbGlkYXRpb24uXG4gICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcuc3VibWlzc2lvbl9mb3JtX2NvbnRhaW5lciBmb3JtJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKFwiI2lkX3N1Ym1pc3Npb250aXRsZVwiKS52YWwoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKFwiI2dlbmVyYWxcIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgJChcIi5tb2RfdHVybml0aW50b29sdHdvIC5ub3RpY2Vib3hcIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgJChcIi5zdWJtaXNzaW9uX2Zvcm1fY29udGFpbmVyIGZvcm1cIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgJChcIiNzdWJtaXR0aW5nX2xvYWRlclwiKS5zbGlkZURvd24oJ3Nsb3cnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpc2UgYW5kIHNldCBjb29raWUgZm9yIHNob3dpbmcgdGhlIHN1bW1hcnkgZm9yIHRoaXMgYXNzaWdubWVudC5cbiAgICBpZiAoJCgnLnRvZ2dsZV9zdW1tYXJ5JykubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoISQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5pbnRyb2R1Y3Rpb24nKS5zbGlkZURvd24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5zaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlVXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvZ2dsZSBTdW1tYXJ5IGRpc3BsYXkgb24gSW5ib3guXG4gICAgICAgICQoJy50b2dnbGVfc3VtbWFyeSBpJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkpIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgZmFsc2UsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5pbnRyb2R1Y3Rpb24nKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpc2UgYW5kIHNldCBjb29raWUgZm9yIHNob3dpbmcgdGhlIHBlZXJtYXJrIGFzc2lnbm1lbnRzIGZvciB0aGlzIGFzc2lnbm1lbnQuXG4gICAgaWYgKCQoJy50b2dnbGVfcGVlcm1hcmtzJykubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoISQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCB0cnVlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVVcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9nZ2xlIFBlZXJtYXJrcyBkaXNwbGF5IG9uIEluYm94LlxuICAgICAgICAkKCcudG9nZ2xlX3BlZXJtYXJrcyBpJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIGZhbHNlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zaG93X3BlZXJtYXJrX2luc3RydWN0aW9ucywgLmhpZGVfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdChcIl9cIik7XG5cbiAgICAgICAgaWYgKGlkU3RyWzBdID09IFwic2hvd1wiKSB7XG4gICAgICAgICAgICAkKCcjc2hvd19wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2xpZGVEb3duKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjc2hvd19wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2xpZGVVcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTaG93IG9wdGlvbnMgZm9yIHBhcnRzIGluIG1vZF9mb3JtLnBocC5cbiAgICBzaG93UGFydERhdGVzQm94ZXMoKTtcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNpZF9udW1wYXJ0cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2hvd1BhcnREYXRlc0JveGVzKCk7XG4gICAgfSk7XG5cbiAgICAvLyBBY3RpdmF0ZSBzaW1wbGUgZGF0YVRhYmxlcy5cbiAgICBpZiAoJChcIiNkYXRhVGFibGVcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAkKFwiI2RhdGFUYWJsZVwiKS5kYXRhVGFibGUoKTtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmUgZGF0YXRhYmxlcyBsYW5ndWFnZSBzZXR0aW5ncy5cbiAgICBpZiAodHlwZW9mIE0uc3RyLnR1cm5pdGludG9vbHR3byAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGRhdGFUYWJsZXNMYW5nID0ge1xuICAgICAgICAgICAgXCJzUHJvY2Vzc2luZ1wiOiAnPHNwYW4gY2xhc3M9XCJsb2FkaW5nLW1lc3NhZ2VcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLnNwcm9jZXNzaW5nICsgJzwvc3Bhbj4nLFxuICAgICAgICAgICAgXCJzWmVyb1JlY29yZHNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnN6ZXJvcmVjb3JkcyxcbiAgICAgICAgICAgIFwic0luZm9cIjogTS5zdHIudHVybml0aW50b29sdHdvLnNpbmZvLFxuICAgICAgICAgICAgXCJzU2VhcmNoXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zc2VhcmNoLFxuICAgICAgICAgICAgXCJzTGVuZ3RoTWVudVwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2xlbmd0aG1lbnUsXG4gICAgICAgICAgICBcIm9QYWdpbmF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJzTmV4dFwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc25leHQsXG4gICAgICAgICAgICAgICAgXCJzUHJldmlvdXNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNwcmV2aW91c1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFjdGl2YXRlIGRhdGF0YWJsZSB0YWJzIG9uIHN1Ym1pc3Npb24gaW5ib3guXG4gICAgaWYgKCQoXCIjdGFic1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFNldCB0YWIgcG9zaXRpb24uXG4gICAgICAgIHZhciBhY3RpdmVUYWIgPSAwO1xuICAgICAgICBpZiAoJChcIiN0YWJfcG9zaXRpb25cIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWN0aXZlVGFiID0gJCgnI3RhYl9wb3NpdGlvbicpLnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICAkKFwiI3RhYnNcIikudGFicygge1xuICAgICAgICAgICAgXCJhY3RpdmVcIjogYWN0aXZlVGFiLFxuICAgICAgICAgICAgXCJzaG93XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9ICQuZm4uZGF0YVRhYmxlLmZuVGFibGVzKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICggdGFibGUubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0YWJsZSkuZGF0YVRhYmxlKCkuZm5BZGp1c3RDb2x1bW5TaXppbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgZGF0YXRhYmxlIGZvciBhZGRpbmcvcmVtb3ZpbmcgZW5yb2xsZWQgdHV0b3JzL3N0dWRlbnRzIHRvIGEgVHVybml0aW4gY291cnNlLlxuICAgIGlmICgkKCcuZW5yb2xsZWRNZW1iZXJzJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcuZW5yb2xsZWRNZW1iZXJzJykuZGF0YVRhYmxlKHtcbiAgICAgICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJhb0NvbHVtbkRlZnNcIjogW1xuICAgICAgICAgICAgICAgIHtcImJTb3J0YWJsZVwiOiBmYWxzZSwgXCJzQ2xhc3NcIjogXCJjZW50ZXJlZF9jZWxsXCIsIFwiYVRhcmdldHNcIjogWzBdfSxcbiAgICAgICAgICAgICAgICB7XCJzQ2xhc3NcIjogXCJsZWZ0XCIsIFwiYVRhcmdldHNcIjogWzFdfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICAgICAgXCJmblNlcnZlckRhdGFcIjogZnVuY3Rpb24gKCBzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2sgKSB7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiZ2V0X21lbWJlcnNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHJvbGU6ICQoJyN1c2VyX3JvbGUnKS5odG1sKCl9LFxuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbkNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZnVuY3Rpb24oZGF0YSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX3Byb2Nlc3NpbmcnKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiBoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX2VtcHR5JykuaHRtbChNLnN0ci50dXJuaXRpbnRvb2x0d28ubWVtYmVyY2hlY2tlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIHRoZSBkYXRhdGFibGVzIG9uIHRoZSBzdWJtaXNzaW9uIGluYm94LCBhIHNlcGVyYXRlIGRhdGF0YWJsZSBpcyBzaG93biBmb3IgZWFjaCBwYXJ0LlxuICAgIC8vIFRoZXJlIGFyZSB0YWJzIHRvIHRvZ2dsZSB3aGljaCBwYXJ0IHRhYmxlIGlzIGRpc3BsYXllZC5cblxuICAgIC8vIERlZmluZSBjb2x1bW4gZGVmaW5pdGlvbnMgYXMgdGhlcmUgY2FuIGJlIGRpZmZlcmVudCBudW1iZXIgb2YgY29sdW1ucy5cbiAgICB2YXIgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zID0gW107XG4gICAgdmFyIHZpc2libGVDb2xzID0gW107XG4gICAgdmFyIG5vT2ZDb2x1bW5zID0gJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGgnKS5sZW5ndGggLyAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmxlbmd0aDtcbiAgICB2YXIgc2hvd09yaWdSZXBvcnQgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY3JlcG9ydCcpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHZhciB1c2VHcmFkZU1hcmsgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY2dyYWRlJykubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIG11bHRpcGxlUGFydHMgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY292ZXJhbGxncmFkZScpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9PZkNvbHVtbnM7IGkrKykge1xuICAgICAgICBpZiAoaSA9PSAyKSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaChudWxsKTtcbiAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PSA0KSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjpcInN0cmluZ1wifSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwicmlnaHRcIn0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpID09IDcgfHwgKGkgPT0gOSAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKChpID09IDkgJiYgIXNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMSAmJiB1c2VHcmFkZU1hcmspKSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwicmlnaHRcIiwgXCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjpcIm51bWVyaWNcIn0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAxMiAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKGkgPT0gMTEgJiYgIXNob3dPcmlnUmVwb3J0KSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwicmlnaHRcIn0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpID09IDEgfHwgKChpID49IDggJiYgIXNob3dPcmlnUmVwb3J0ICYmICF1c2VHcmFkZU1hcmspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID49IDEwICYmICgoIXNob3dPcmlnUmVwb3J0ICYmIHVzZUdyYWRlTWFyaykgfHwgKHNob3dPcmlnUmVwb3J0ICYmICF1c2VHcmFkZU1hcmspKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPj0gMTIgJiYgc2hvd09yaWdSZXBvcnQgJiYgdXNlR3JhZGVNYXJrKSkpIHtcbiAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHtcInNDbGFzc1wiOiBcImNlbnRlclwiLCBcImJTb3J0YWJsZVwiOiBmYWxzZX0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAwKSB8fCAoaSA9PSAzKSB8fCAoaSA9PSA2KSB8fCAoaSA9PSA4ICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoKGkgPT0gOCAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDEwICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJiVmlzaWJsZVwiOiBmYWxzZX0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFydFRhYmxlcyA9IFtdO1xuICAgIHZhciByZWZyZXNoUmVxdWVzdGVkID0gW107XG4gICAgJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUnKS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICAgIHJlZnJlc2hSZXF1ZXN0ZWRbcGFydF9pZF0gPSAwO1xuXG4gICAgICAgIHBhcnRUYWJsZXNbcGFydF9pZF0gPSAkKCd0YWJsZSMnICsgcGFydF9pZCkuZGF0YVRhYmxlKHtcbiAgICAgICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYW9Db2x1bW5zXCI6IHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucyxcbiAgICAgICAgICAgIFwiYUxlbmd0aE1lbnVcIjogW1sxMCwgMjUsIDUwLCAxMDAsIC0xXSwgWzEwLCAyNSwgNTAsIDEwMCwgXCJBbGxcIl1dLFxuICAgICAgICAgICAgXCJhYVNvcnRpbmdcIjogW1sgMiwgXCJhc2NcIiBdLFsgNCwgXCJhc2NcIiBdXSxcbiAgICAgICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgICAgICBcInNEb21cIjogJ3I8XCJsaXN0YmFyLWNvbnRhaW5lclwiPFwidG9wIGxpc3RiYXIgY2xlYXJmaXhcImxmPj48XCJkdF9wYWdpbmF0aW9uIGNsZWFyZml4XCJwaT50PFwiYm90dG9tXCI+PFwiZHRfcGFnaW5hdGlvbiBjbGVhcmZpeFwicGk+JyxcbiAgICAgICAgICAgIFwiZm5TZXJ2ZXJEYXRhXCI6IGZ1bmN0aW9uICggc1NvdXJjZSwgYW9EYXRhLCBmbkNhbGxiYWNrICkge1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHNTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImluaXRpYWxpc2VfcmVkcmF3XCJ9LFxuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRWRpdGluZ1RleHQocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGZvcmNlIHNob3dpbmcgb2YgbG9hZGluZyBiYXIgYXMgaWYgd2UgcGxhY2UgZm5DYWxsYmFjayBhZnRlciB0aGUgdGFibGUgaXMgcG9wdWxhdGVkIGl0IGlzIHdpcGVkIHdoZW4gcmVmcmVzaGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArIFwiX3Byb2Nlc3NpbmdcIikuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U3VibWlzc2lvbnMocGFydFRhYmxlc1twYXJ0X2lkXSwgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHBhcnRfaWQsIDAsIHJlZnJlc2hSZXF1ZXN0ZWQsIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJiU3RhdGVTYXZlXCI6IHRydWUsXG4gICAgICAgICAgICBcImZuU3RhdGVTYXZlXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIHBhcnRfaWQgKyAnRGF0YVRhYmxlcycsIEpTT04uc3RyaW5naWZ5KG9EYXRhKSApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImZuU3RhdGVTYXZlUGFyYW1zXCI6IGZ1bmN0aW9uKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICBvRGF0YS5hYlZpc0NvbHMgPSB2aXNpYmxlQ29scztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImZuU3RhdGVMb2FkXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmdldEl0ZW0ocGFydF9pZCArICdEYXRhVGFibGVzJykgKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJmblN0YXRlTG9hZFBhcmFtc1wiOiBmdW5jdGlvbihvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICAgICAgb0RhdGEuYWJWaXNDb2xzID0gdmlzaWJsZUNvbHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJmbkRyYXdDYWxsYmFja1wiOiAgZnVuY3Rpb24oIG9TZXR0aW5ncyApIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlRGlnaXRhbFJlY2VpcHQoKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlRFZMYXVuY2hlcnMoXCJhbGxcIiwgMCwgcGFydF9pZCwgMCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVJlZnJlc2hSb3coXCJhbGxcIiwgMCwgcGFydF9pZCwgMCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVVwbG9hZEJveChcImFsbFwiLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlWmlwRG93bmxvYWRzKHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDaGVja2JveGVzKDAsIHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVbmFub3ltaXNlRm9ybShcImFsbFwiLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG5cbiAgICAgICAgLy8gUG9wdWxhdGUgUGVlcm1hcmsgU2VjdGlvbiBvZiBQYXJ0IERldGFpbHMuXG4gICAgICAgIHJlZnJlc2hQZWVybWFya0Fzc2lnbm1lbnRzKHBhcnRfaWQsIDApO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoJy5tZXNzYWdlc19hbW91bnQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlZnJlc2hVc2VyTWVzc2FnZXMoKTtcbiAgICB9XG5cbiAgICAvLyBSZXBvc2l0aW9uIGxpbmtzL2RpdnMuXG4gICAgJCgnLnRpaV90YWJsZV9mdW5jdGlvbnMnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgndGlpX3RhYmxlX2Z1bmN0aW9uc18nKVsxXTtcblxuICAgICAgICB2YXIgdGlpX3RhYmxlX2Z1bmN0aW9ucyA9ICQoXCIjdGlpX3RhYmxlX2Z1bmN0aW9uc19cIiArIHBhcnRfaWQpLmh0bWwoKTtcbiAgICAgICAgJCgnI3RpaV90YWJsZV9mdW5jdGlvbnNfJyArIHBhcnRfaWQpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyAnX2xlbmd0aCcpLmFmdGVyKHRpaV90YWJsZV9mdW5jdGlvbnMpO1xuICAgICAgICAkKCcubWVzc2FnZXNfaW5ib3gnKS5zaG93KCk7XG5cbiAgICAgICAgJCgnI3JlZnJlc2hfJyArIHBhcnRfaWQpLnNob3coKTtcbiAgICAgICAgJCgnI3JlZnJlc2hpbmdfJyArIHBhcnRfaWQpLmhpZGUoKTtcbiAgICB9KTtcblxuICAgIHZhciB6aXBfZG93bmxvYWRzID0gJChcIi56aXBfZG93bmxvYWRzXCIpO1xuXG4gICAgJC5lYWNoKHppcF9kb3dubG9hZHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgnXycpWzFdO1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyAnX2xlbmd0aCcpLmFmdGVyKCQodGhpcykpO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoXCIjdXNlcl9yb2xlXCIpLmh0bWwoKSA9PSBcIkxlYXJuZXJcIikge1xuICAgICAgICAkKFwiLmRhdGFUYWJsZXNfbGVuZ3RoLCAuZGF0YVRhYmxlc19maWx0ZXIsIC5kdF9wYWdpbmF0aW9uXCIpLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHRoZSByZWZyZXNoIHN1Ym1pc3Npb25zIGxpbmsgaXMgY2xpY2tlZCwgdGhlIGRhdGEgaW4gZWFjaCBkYXRhdGFibGUgbmVlZHMgdG8gYmUgcmVsb2FkZWQuXG4gICAgJChcIi5yZWZyZXNoX2xpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAkKFwiLnJlZnJlc2hfbGlua1wiKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiLnJlZnJlc2hpbmdfbGlua1wiKS5zaG93KCk7XG5cbiAgICAgICAgICAgICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoUmVxdWVzdGVkWyQodGhpcykuYXR0cihcImlkXCIpXSA9IDE7XG4gICAgICAgICAgICAgICAgcGFydFRhYmxlc1skKHRoaXMpLmF0dHIoXCJpZFwiKV0uZm5SZWxvYWRBamF4KCk7XG4gICAgICAgICAgICAgICAgcGFydFRhYmxlc1skKHRoaXMpLmF0dHIoXCJpZFwiKV0uZm5TdGFuZGluZ1JlZHJhdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gU3luYyBhbGwgZ3JhZGVzIGxpbmsgaW4gc2V0dGluZ3MgcGFnZS5cbiAgICBpZiAoJCgnI3R1cm5pdGluX3N5bmNfYWxsX2dyYWRlcycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNfZ3JhZGVzJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICQoJy50dXJuaXRpbl9zeW5jX2dyYWRlcycpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy50dXJuaXRpbl9zeW5jaW5nX2dyYWRlcycpLnNob3coKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwic3luY19hbGxfc3VibWlzc2lvbnNcIiwgYXNzaWdubWVudDogJCgnI3R1cm5pdGluX3N5bmNfYWxsX2dyYWRlcycpLmRhdGEoJ3R1cm5pdGludG9vbHR3b2lkJyksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNfZ3JhZGVzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcudHVybml0aW5fc3luY2luZ19ncmFkZXMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc2l6ZSB3aW5kb3cgaWYgc3VibWlzc2lvbiBoYXMgZmFpbGVkLlxuICAgIGlmICgkKCcuc3VibWlzc2lvbl9mYWlsdXJlX21zZycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2luZG93LnBhcmVudC4kKCcudXBsb2FkX2JveCcpLmNvbG9yYm94LnJlc2l6ZSh7XG4gICAgICAgICAgICB3aWR0aDogXCI4MDBweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjI0MHB4XCJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRW5yb2wgYWxsIHN0dWRlbnRzIGxpbmsgb24gdGhlIGVucm9sbGVkIHN0dWRlbnRzIHBhZ2UuXG4gICAgJChcIi5lbnJvbF9saW5rXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIiNlbnJvbGxpbmdfZXJyb3JcIikuaGlkZSgpO1xuICAgICAgICAkKFwiLmVucm9sX2xpbmtcIikuaGlkZSgpO1xuICAgICAgICAkKFwiLmVucm9sbGluZ19jb250YWluZXJcIikuc2hvdygpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwiZW5yb2xfYWxsX3N0dWRlbnRzXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICQoXCIuZW5yb2xfbGlua1wiKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJChcIi5lbnJvbGxpbmdfY29udGFpbmVyXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKFwiI2Vucm9sbGluZ19lcnJvclwiKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFJ1YnJpYyBNYW5hZ2VyLlxuICAgIGlmICgkKCcucnVicmljX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcucnVicmljX21hbmFnZXJfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiODMycHhcIiwgaGVpZ2h0OlwiNjgycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInJ1YnJpY19tYW5hZ2VyXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggUnVicmljIGRyb3AgZG93biBpbiBhZGQvdXBkYXRlIGZvcm0uXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImlkXCIpICE9ICdydWJyaWNfbWFuYWdlcl9pbmJveF9sYXVuY2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hSdWJyaWNTZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFJ1YnJpYyBWaWV3LlxuICAgIGlmICgkKCcucnVicmljX3ZpZXdfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcucnVicmljX3ZpZXdfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiODMycHhcIiwgaGVpZ2h0OlwiNjgycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInJ1YnJpY192aWV3XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IHdhcm5pbmcgd2hlbiBjaGFuZ2luZyB0aGUgcnVicmljIGxpbmtlZCB0byBhbiBhc3NpZ25tZW50LlxuICAgICQoJyNpZF9ydWJyaWMsICNpZF9wbGFnaWFyaXNtX3J1YnJpYycpLmZvY3VzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCQoJ2lucHV0W25hbWU9XCJpbnN0YW5jZVwiXScpLnZhbCgpICE9ICcnICYmICQoJ2lucHV0W25hbWU9XCJydWJyaWNfd2FybmluZ19zZWVuXCJdJykudmFsKCkgIT0gJ1knKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlybShNLnN0ci50dXJuaXRpbnRvb2x0d28uY2hhbmdlcnVicmljd2FybmluZykpIHtcbiAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwicnVicmljX3dhcm5pbmdfc2VlblwiXScpLnZhbCgnWScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUXVpY2ttYXJrIE1hbmFnZXIuXG4gICAgaWYgKCQoJy5xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwIHx8ICQoJy5wbGFnaWFyaXNtX3R1cm5pdGluX3F1aWNrbWFya19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnF1aWNrbWFya19tYW5hZ2VyX2xhdW5jaCwgLnBsYWdpYXJpc21fdHVybml0aW5fcXVpY2ttYXJrX21hbmFnZXJfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiNzcwcHhcIiwgaGVpZ2h0OlwiNjAwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInF1aWNrbWFya19tYW5hZ2VyXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUGVlcm1hcmsgTWFuYWdlci5cbiAgICBpZiAoJCgnLnRpaV9wZWVybWFya19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnRpaV9wZWVybWFya19tYW5hZ2VyX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjgwMnB4XCIsIGhlaWdodDpcIjc3MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJwZWVybWFya19tYW5hZ2VyXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbG9zZWQ6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQZWVybWFya0Fzc2lnbm1lbnRzKGlkU3RyWzJdLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFBlZXJtYXJrIFJldmlld3MuXG4gICAgaWYgKCQoJy50aWlfcGVlcm1hcmtfcmV2aWV3c19sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy50aWlfcGVlcm1hcmtfcmV2aWV3c19sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI4MDJweFwiLCBoZWlnaHQ6XCI3NzJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicGVlcm1hcmtfcmV2aWV3c1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIHR1cm5pdGluIG1lc3NhZ2UgaW5ib3guXG4gICAgaWYgKCQoXCIubWVzc2FnZXNfaW5ib3hcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAkKFwiLm1lc3NhZ2VzX2luYm94XCIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjc3MnB4XCIsIGhlaWdodDpcIjc3MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJtZXNzYWdlc1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIiwgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgZm9ybSB0byBtZXNzYWdlIG5vbiBzdWJtaXR0ZXJzLlxuICAgIGlmICgkKFwiLm5vbnN1Ym1pdHRlcnNfbGlua1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoXCIubm9uc3VibWl0dGVyc19saW5rXCIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjc0MHB4XCIsIGhlaWdodDpcIjU0MHB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJub25zdWJtaXR0ZXJzXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLCBjbG9zZUJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc2l6ZSB3aW5kb3cgd2hlbiBlbWFpbCBoYXMgYmVlbiBzZW50LlxuICAgIGlmICgkKCcubm9uc3VibWl0dGVyc2Zvcm1zdWNjZXNzbXNnJykubGVuZ3RoID4gMCkge1xuICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICB3aW5kb3cucGFyZW50LiQoJy5ub25zdWJtaXR0ZXJzJykuY29sb3Jib3gucmVzaXplKHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjc0MHB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMTIwcHhcIlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgRW1haWwgbm9uIHN1Ym1pdHRlcnMgZm9ybS5cbiAgICBpZiAoJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjgzMnB4XCIsIGhlaWdodDpcIjY4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfdmlld1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiB0aGUgRFYgaW4gYSBuZXcgd2luZG93IGluIHN1Y2ggYSB3YXkgYXMgdG8gbm90IGJlIGJsb2NrZWQgYnkgcG9wdXBzLlxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZGVmYXVsdF9vcGVuLCAub3JpZ3JlcG9ydF9vcGVuLCAuZ3JhZGVtYXJrX29wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByb2NlZWQgPSB0cnVlO1xuICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgIHZhciBkdWVfZGF0ZSA9ICQoJyNkYXRlX2R1ZV8nICsgaWRTdHJbMl0pLmh0bWwoKTtcbiAgICAgICAgdmFyIGR1ZV9kYXRlX3VuaXggPSBtb21lbnQoZHVlX2RhdGUpLnVuaXgoKTtcblxuICAgICAgICB2YXIgZHZ0eXBlID0gaWRTdHJbMF07XG4gICAgICAgIHZhciBzdWJtaXNzaW9uX2lkID0gaWRTdHJbMV07XG4gICAgICAgIHZhciBwYXJ0X2lkID0gaWRTdHJbMl07XG5cbiAgICAgICAgLy8gU2hvdyByZXN1Ym1pc3Npb24gZ3JhZGUgd2FybmluZyBpZiB0aGUgZHVlIGRhdGUgaGFzIG5vdCBwYXNzZWQuXG4gICAgICAgIGlmIChkdWVfZGF0ZV91bml4ID4gbW9tZW50KCkudW5peCgpKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZ3JhZGVkX3dhcm5pbmcnKSkge1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlybShNLnN0ci50dXJuaXRpbnRvb2x0d28ucmVzdWJtaXNzaW9uZ3JhZGV3YXJuKSkge1xuICAgICAgICAgICAgICAgICAgICAgcHJvY2VlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZWVkKSB7XG4gICAgICAgICAgICBkdldpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICB2YXIgbG9hZGluZyA9ICc8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+JztcbiAgICAgICAgICAgIGxvYWRpbmcgKz0gJzxpbWcgc3JjPVwiJyArIE0uY2ZnLnd3d3Jvb3QgKyAnL21vZC90dXJuaXRpbnRvb2x0d28vcGl4L3RpaUljb24uc3ZnXCIgc3R5bGU9XCJ3aWR0aDoxMDBweDsgaGVpZ2h0OiAxMDBweFwiPic7XG4gICAgICAgICAgICBsb2FkaW5nICs9ICc8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28ubG9hZGluZ2R2ICsgJzwvcD4nO1xuICAgICAgICAgICAgbG9hZGluZyArPSAnPC9kaXY+JztcbiAgICAgICAgICAgICQoZHZXaW5kb3cuZG9jdW1lbnQuYm9keSkuaHRtbChsb2FkaW5nKTtcblxuICAgICAgICAgICAgLy8gR2V0IGh0bWwgdG8gbGF1bmNoIERWLlxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IGR2dHlwZSwgc3VibWlzc2lvbjogc3VibWlzc2lvbl9pZCwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJChkdldpbmRvdy5kb2N1bWVudC5ib2R5KS5odG1sKGxvYWRpbmcgKyBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZHZXaW5kb3cuZG9jdW1lbnQuZm9ybXNbMF0uc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIGR2V2luZG93LmRvY3VtZW50LmNsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEVkNsb3NlZChwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCQoXCIjaWRfcnVicmljLCAjaWRfcGxhZ2lhcmlzbV9ydWJyaWNcIikubGVuZ3RoID4gMCkge1xuICAgICAgICByZWZyZXNoUnVicmljU2VsZWN0KCk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgYW55IHRoZW1lIHRoYXQgcHV0cyBhIGJhY2tncm91bmQgb24gdGhlIGh0bWwgZWxlbWVudCB3aGljaCBnZXRzIHNldCBvbiBhbiBpZnJhbWUuXG4gICAgaWYgKHNlbGYgIT0gdG9wICYmICQoJyN2aWV3X2NvbnRleHQnKS5odG1sKCkgPT0gJ2JveCcpIHtcbiAgICAgICAgJCgnaHRtbCcpLmNzcygnYmFja2dyb3VuZCcsICdub25lJyk7XG4gICAgfSBlbHNlIGlmIChzZWxmICE9IHRvcCAmJiAkKCcjdmlld19jb250ZXh0JykuaHRtbCgpID09ICdib3hfc29saWQnKSB7XG4gICAgICAgICQoJ2h0bWwnKS5jc3MoJ2JhY2tncm91bmQnLCAnI0ZGRicpO1xuICAgIH1cblxuICAgICQoJy5lZGl0YWJsZV9wb3N0ZHVlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuZGF0YSgnYW5vbicpID09IDEpIHtcbiAgICAgICAgICAgIGFsZXJ0KE0uc3RyLnR1cm5pdGludG9vbHR3by5wb3N0ZGF0ZV93YXJuaW5nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCQoJy5lZGl0YWJsZV90ZXh0JykubGVuZ3RoID4gMCkge1xuICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLm1vZGUgPSAnaW5saW5lJztcbiAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy51cmwgPSAnYWpheC5waHAnO1xuICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLm9uYmx1ciA9ICdzdWJtaXQnO1xuICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLnNob3didXR0b25zID0gZmFsc2U7XG4gICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMuYWpheE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgIH1cblxuICAgICAgICAkKCcuZWRpdGFibGVfdGV4dCcpLmVkaXRhYmxlKHtcbiAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2lkJykuaW5kZXhPZihcIm1hcmtzX1wiKSA+PSAwICYmIChNYXRoLmZsb29yKHZhbHVlKSAhPSB2YWx1ZSB8fCAhJC5pc051bWVyaWModmFsdWUpIHx8IHZhbHVlLmluZGV4T2YoXCIuXCIpICE9IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTS5zdHIudHVybml0aW50b29sdHdvLm1heG1hcmtzZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5tc2c7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5maWVsZCA9PSBcIm1heG1hcmtzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlZnJlc2hfJyArIHJlc3BvbnNlLnBhcnRpZCkuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmZpZWxkID09IFwicGFydG5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFiSWQgPSAkKHRoaXMpLnBhcmVudHNVbnRpbCgnLnVpLXRhYnMtcGFuZWwnKS5wYXJlbnQoKS5hdHRyKCdhcmlhLWxhYmVsbGVkYnknKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyB0YWJJZCkudGV4dChuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJCgnI2V4cG9ydF9vcHRpb25zJykuaGFzQ2xhc3MoJ3RpaV9leHBvcnRfb3B0aW9uc19oaWRlJykpIHtcbiAgICAgICAgICAgICQoJyNleHBvcnRfb3B0aW9ucycpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5leHBvcnRfZGF0YScpLmh0bWwoJzxzcGFuIGNsYXNzPVwiZW1wdHktZGFzaFwiPi0tPC9zcGFuPicpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmVkaXRhYmxlX3Bvc3RkdWUnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHthY3Rpb246ICdjaGVja19hbm9uJywgcGFydDogJHRoaXMuZGF0YSgncGsnKSwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnYW5vbicsIGRhdGFbJ2Fub24nXSk7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ3VuYW5vbicsIGRhdGFbJ3VuYW5vbiddKTtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnc3VibWl0dGVkJywgZGF0YVsnc3VibWl0dGVkJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICQoJy5lZGl0YWJsZV9kYXRlJykuZWRpdGFibGUoe1xuICAgICAgICAgICAgJ3R5cGUnOiAnY29tYm9kYXRlJyxcbiAgICAgICAgICAgICdmb3JtYXQnOiAnWVlZWS1NTS1ERCBISDptbScsXG4gICAgICAgICAgICAndmlld2Zvcm1hdCc6ICdEIE1NTSBZWVlZLCBISDptbScsXG4gICAgICAgICAgICAndGVtcGxhdGUnOiAnRCBNTU0gWVlZWSAgSEg6bW0nLFxuICAgICAgICAgICAgJ2NvbWJvZGF0ZSc6IHtcbiAgICAgICAgICAgICAgICAnbWludXRlU3RlcCc6IDEsXG4gICAgICAgICAgICAgICAgJ21pblllYXInOiAyMDAwLFxuICAgICAgICAgICAgICAgICdtYXhZZWFyJzogdGhlRGF0ZS5nZXRGdWxsWWVhcigpICsgMixcbiAgICAgICAgICAgICAgICAnc21hcnREYXlzJzogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmKCB2YWx1ZS5mb3JtYXQoXCJYXCIpIDwgbW9tZW50KCkudW5peCgpICYmXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaGFzQ2xhc3MoJ2VkaXRhYmxlX3Bvc3RkdWUnKSAmJlxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ2Fub24nKSA9PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgndW5hbm9uJykgPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ3N1Ym1pdHRlZCcpID09IDEgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhIGNvbmZpcm0oTS5zdHIudHVybml0aW50b29sdHdvLmRpc2FibGVhbm9uY29uZmlybSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5lZGl0YWJsZS1vcGVuJykuZWRpdGFibGVDb250YWluZXIoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRpb24gb25seSBmYWlscyBpZiBzdHJpbmcgaXMgcmV0dXJuZWQgKFdlIG5lZWQgYSBzdHJpbmcpLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZighcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UubXNnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNyZWZyZXNoXycgKyByZXNwb25zZS5wYXJ0aWQpLmNsaWNrKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmV4cG9ydF9vcHRpb24gPT0gXCJ0aWlfZXhwb3J0X29wdGlvbnNfaGlkZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZXhwb3J0X29wdGlvbnMnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuZXhwb3J0X2RhdGEnKS5odG1sKCc8c3BhbiBjbGFzcz1cImVtcHR5LWRhc2hcIj4tLTwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5lbXB0eS1kYXNoJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZXhwb3J0X29wdGlvbnMnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5lZGl0YWJsZV9kYXRlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZWRpdGFibGUtZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGlzYWJsZSBvdGhlciBlZGl0YWJsZSBmaWVsZHMgJiBHcmFkaW5nIHRlbXBsYXRlIHN1Ym1pc3Npb25zIHdoZW4gYW4gZWRpdGFibGUgZm9ybSBpcyBvcGVuZWQuXG4gICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm9uKCdzaG93bicsIGZ1bmN0aW9uKGUsIGVkaXRhYmxlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9ICgkKHRoaXMpLnByb3AoJ2lkJykpO1xuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykubm90KCcjJyArIGN1cnJlbnQpLmVkaXRhYmxlKCdkaXNhYmxlJyk7XG4gICAgICAgICAgICAkKCcuc3VibWl0X25vdGhpbmcnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRW5hYmxlIG90aGVyIGVkaXRhYmxlIGZpZWxkcyAmIEdyYWRpbmcgdGVtcGxhdGUgc3VibWlzc2lvbnMgd2hlbiBhbiBlZGl0YWJsZSBmb3JtIGlzIGNsb3NlZC5cbiAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykub24oJ2hpZGRlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAoJCh0aGlzKS5wcm9wKCdpZCcpKTtcbiAgICAgICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm5vdCgnIycgKyBjdXJyZW50KS5lZGl0YWJsZSgnZW5hYmxlJyk7XG4gICAgICAgICAgICAkKCcuc3VibWl0X25vdGhpbmcnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnI2luYm94X2Zvcm0gZm9ybSwgLmxhdW5jaF9mb3JtIGZvcm0nKS5zdWJtaXQoKTtcblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBFVUxBIC5cbiAgICBpZiAoJCgnLnR1cm5pdGluX2V1bGFfbGluaycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnR1cm5pdGluX2V1bGFfbGluaycpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjc2NnB4XCIsIGhlaWdodDpcIjU5NnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJldWxhX3ZpZXdcIiwgc2Nyb2xsaW5nOiBcImZhbHNlXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkgeyBnZXRMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oXCJtZXNzYWdlXCIsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gdHlwZW9mIGV2LmRhdGEgPT09ICd1bmRlZmluZWQnID8gZXYub3JpZ2luYWxFdmVudC5kYXRhIDogZXYuZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBcImFjY2VwdHVzZXJhZ3JlZW1lbnRcIiwgbWVzc2FnZTogbWVzc2FnZSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEVuYWJsZSB0aGUgZWRpdGluZyBmaWVsZHMgaW4gdGhlIGluYm94IHBhcnRzIHRhYmxlLlxuICAgIGZ1bmN0aW9uIGVuYWJsZUVkaXRpbmdUZXh0KHBhcnRfaWQpIHtcbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV9kYXRlLCAjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX3RleHQnKS5lZGl0YWJsZSgnZW5hYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gRGlzYWJsZSB0aGUgZWRpdGluZyBmaWVsZHMgaW4gdGhlIGluYm94IHBhcnRzIHRhYmxlLlxuICAgIGZ1bmN0aW9uIGRpc2FibGVFZGl0aW5nVGV4dChwYXJ0X2lkKSB7XG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZWRpdGFibGVfZGF0ZSwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV90ZXh0JykuZWRpdGFibGUoJ2Rpc2FibGUnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRMb2FkaW5nR2lmKCkge1xuICAgICAgICB2YXIgaW1nID0gJzxkaXYgY2xhc3M9XCJsb2FkaW5nX2dpZlwiPjwvZGl2Pic7XG4gICAgICAgICQoJyNjYm94T3ZlcmxheScpLmFmdGVyKGltZyk7XG4gICAgICAgIHZhciB0b3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAoJCh3aW5kb3cpLmhlaWdodCgpIC8gMik7XG4gICAgICAgICQoJy5sb2FkaW5nX2dpZicpLmNzcygndG9wJywgdG9wICsgJ3B4Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZUxvYWRpbmdHaWYoKSB7XG4gICAgICAgICQoJy5sb2FkaW5nX2dpZicpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN1Ym1pc3Npb25zKHRhYmxlLCBhc3NpZ25tZW50X2lkLCBwYXJ0X2lkLCBzdGFydCwgcmVmcmVzaF9yZXF1ZXN0ZWQsIHRvdGFsKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIFwiYXN5bmNcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImdldF9zdWJtaXNzaW9uc1wiLCBhc3NpZ25tZW50OiBhc3NpZ25tZW50X2lkLCBwYXJ0OiBwYXJ0X2lkLCBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgcmVmcmVzaF9yZXF1ZXN0ZWQ6IHJlZnJlc2hfcmVxdWVzdGVkW3BhcnRfaWRdLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5LCB0b3RhbDogdG90YWx9LFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGV2YWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHJlc3VsdC5lbmQ7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmFhRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLmZuQWRkRGF0YShyZXN1bHQuYWFEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVuZCA8IHJlc3VsdC50b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRTdWJtaXNzaW9ucyh0YWJsZSwgYXNzaWdubWVudF9pZCwgcGFydF9pZCwgc3RhcnQsIHJlZnJlc2hfcmVxdWVzdGVkLCByZXN1bHQudG90YWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArIFwiX3Byb2Nlc3NpbmdcIikuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF9yZXF1ZXN0ZWRbcGFydF9pZF0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxscmVmcmVzaGVkID0gMTtcblxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gocmVmcmVzaF9yZXF1ZXN0ZWQsIGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxyZWZyZXNoZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxscmVmcmVzaGVkID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZWZyZXNoaW5nX2xpbmsnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucmVmcmVzaF9saW5rJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3VibWl0VmlzaWJpbGl0eSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUVkaXRpbmdUZXh0KHBhcnRfaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBFbWFpbCBub24gc3VibWl0dGVycyBsaW5rIGlmIHRoZXJlIGlzIGFueSBub24gc3VibWl0dGVycy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5ub25zdWJtaXR0ZXJzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm5vbnN1Ym1pdHRlcnNfbGluaycpLmF0dHIoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJlcnJvclwiOiBmdW5jdGlvbihkYXRhLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArIFwiX3Byb2Nlc3NpbmdcIikuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgJCgnLmRhdGFUYWJsZXNfZW1wdHknKS5odG1sKE0uc3RyLnR1cm5pdGludG9vbHR3by50aWlzdWJtaXNzaW9uc2dldGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBvciBoaWRlIHRoZSBzdWJtaXNzaW9uIGxpbmsgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIEVVTEEgaGFzIGJlZW4gYWNjZXB0ZWQuXG4gICAgZnVuY3Rpb24gc3VibWl0VmlzaWJpbGl0eSgpIHtcbiAgICAgICAgaWYgKCgkKFwiLnVwbG9hZF9ib3hcIikuZGF0YShcInVzZXItdHlwZVwiKSA9PSAxKSB8fCAoJChcIi51cGxvYWRfYm94XCIpLmRhdGEoXCJldWxhXCIpID09IDEpKSB7XG4gICAgICAgICAgICAkKFwiLnVwbG9hZF9ib3hcIikuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJChcIi51cGxvYWRfYm94XCIpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCB0aGUgcnVicmljcyBiZWxvbmdpbmcgdG8gYSB1c2VyIGZyb20gVHVybml0aW4gYW5kIHJlZnJlc2ggbWVudSBhY2NvcmRpbmdseS5cbiAgICBmdW5jdGlvbiByZWZyZXNoUnVicmljU2VsZWN0KCkge1xuICAgICAgICB2YXIgcnVicmljRWxlbWVudElkID0gKCQoJyNpZF9ydWJyaWMnKS5sZW5ndGgpID8gJyNpZF9ydWJyaWMnIDogJyNpZF9wbGFnaWFyaXNtX3J1YnJpYyc7XG4gICAgICAgIHZhciBjdXJyZW50UnVicmljID0gJChydWJyaWNFbGVtZW50SWQpLnZhbCgpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICBcInVybFwiOiBcIi4uL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcInJlZnJlc2hfcnVicmljX3NlbGVjdFwiLCBhc3NpZ25tZW50OiAkKCdpbnB1dFtuYW1lPVwiaW5zdGFuY2VcIl0nKS52YWwoKSxcbiAgICAgICAgICAgICAgICBtb2R1bGVuYW1lOiAkKCdpbnB1dFtuYW1lPVwibW9kdWxlbmFtZVwiXScpLnZhbCgpLCBjb3Vyc2U6ICQoJ2lucHV0W25hbWU9XCJjb3Vyc2VcIl0nKS52YWwoKX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJCgkKHJ1YnJpY0VsZW1lbnRJZCkpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBkYXRhO1xuICAgICAgICAgICAgICAgICQuZWFjaChvcHRpb25zLCBmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgkKHJ1YnJpY0VsZW1lbnRJZCkpLmFwcGVuZCgkKCc8b3B0aW9uPicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA6IHZhbFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChydWJyaWNFbGVtZW50SWQgKyAnIG9wdGlvblt2YWx1ZT1cIicgKyBjdXJyZW50UnVicmljICsgJ1wiXScpLmF0dHIoXCJzZWxlY3RlZFwiLFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlZnJlc2ggdGhlIG51bWJlciBvZiBtZXNzYWdlcyBpbiB0aGUgdXNlcidzIFR1cm5pdGluIGluYm94LlxuICAgIGZ1bmN0aW9uIHJlZnJlc2hVc2VyTWVzc2FnZXMoKSB7XG4gICAgICAgICQoJy5tZXNzYWdlc19sb2FkaW5nJykuc2hvdygpO1xuICAgICAgICAkKCcubWVzc2FnZXNfYW1vdW50JykuaHRtbCgnJyk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2h0bWwnLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwicmVmcmVzaF91c2VyX21lc3NhZ2VzXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKCcubWVzc2FnZXNfbG9hZGluZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcubWVzc2FnZXNfYW1vdW50JykuaHRtbChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGlkZSBQZWVybWFyayBhc3NpZ25tZW50cyBmb3IgcmVmcmVzaGluZy5cbiAgICBmdW5jdGlvbiByZXNldFBlZXJtYXJrU2VjdGlvbihwYXJ0X2lkKSB7XG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAudG9nZ2xlX3BlZXJtYXJrcycpLmhpZGUoKTtcbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFya19jb3VudCcpLmh0bWwoJycpO1xuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrLWxvYWRpbmcnKS5zaG93KCk7XG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuaGlkZSgpO1xuICAgIH1cblxuICAgIC8vIFJlZnJlc2ggdGhlIFBlZXJtYXJrIEFzc2lnbm1lbnRzIGZyb20gVHVybml0aW4gYW5kIHNob3cgaW4gUGFydCBEZXRhaWxzIHNlY3Rpb24gb2YgaW5ib3guXG4gICAgZnVuY3Rpb24gcmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMocGFydF9pZCwgcmVmcmVzaF9yZXF1ZXN0ZWQpIHtcblxuICAgICAgICB2YXIgdXNlcl9yb2xlID0gKCQoJy50aWlfcGVlcm1hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSA/ICdJbnN0cnVjdG9yJyA6ICdMZWFybmVyJ1xuXG4gICAgICAgIGlmICgkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgcmVzZXRQZWVybWFya1NlY3Rpb24ocGFydF9pZCk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJyZWZyZXNoX3BlZXJtYXJrX2Fzc2lnbm1lbnRzXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0OiBwYXJ0X2lkLCByZWZyZXNoX3JlcXVlc3RlZDogcmVmcmVzaF9yZXF1ZXN0ZWQsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5odG1sKGRhdGEucGVlcm1hcmtfdGFibGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmstbG9hZGluZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFya19jb3VudCcpLmh0bWwoZGF0YS5ub19vZl9wZWVybWFya3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm5vX29mX3BlZXJtYXJrcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAudG9nZ2xlX3BlZXJtYXJrcycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAudG9nZ2xlX3BlZXJtYXJrcycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZGF0YS5ub19vZl9wZWVybWFya3MgPiAwICYmIHVzZXJfcm9sZSA9PSAnSW5zdHJ1Y3RvcicpIHx8IChkYXRhLnBlZXJtYXJrc19hY3RpdmUgJiYgdXNlcl9yb2xlID09ICdMZWFybmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucm93X3BlZXJtYXJrX3Jldmlld3MnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkgPT0gXCJ0cnVlXCIgJiYgZGF0YS5ub19vZl9wZWVybWFya3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaG93IGxpZ2h0IGJveCB3aXRoIGZvcm0gdG8gcmV2ZWFsIHRoZSBzdHVkZW50J3MgbmFtZSBvbiBhbiBhbm9ueW1pc2VkIHN1Ym1pc3Npb24uXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZVVuYW5veW1pc2VGb3JtKHNjb3BlLCBhc3NpZ25tZW50X2lkLCBzdWJtaXNzaW9uX2lkKSB7XG4gICAgICAgIHZhciBpZGVudGlmaWVyID0gJ2EudW5hbm9ueW1pc2UnO1xuICAgICAgICBpZiAoc2NvcGUgPT0gXCJyb3dcIikge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9ICcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZDtcbiAgICAgICAgfVxuICAgICAgICAkKGlkZW50aWZpZXIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlubGluZTp0cnVlLCB3aWR0aDpcIjUwJVwiLCB0b3A6IFwiMTAwcHhcIiwgaGVpZ2h0OlwiMjYwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInRpaV91bmFub255bWlzZV9yZXZlYWxfZm9ybVwiLFxuICAgICAgICAgICAgb25Db21wbGV0ZSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VibWlzc2lvbl9pZCA9PSAwIHx8IHN1Ym1pc3Npb25faWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXNzaW9uX2lkID0gaWRTdHJbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhc3NpZ25tZW50X2lkID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudF9pZCA9ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKFwiI3N1Ym1pc3Npb25faWRcIikuaHRtbChzdWJtaXNzaW9uX2lkKTtcbiAgICAgICAgICAgICAgICAkKCcjY2JveExvYWRlZENvbnRlbnQgLnVuYW5vbnltaXNlX2Zvcm0nKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnI2lkX3JldmVhbCcpLnVuYmluZChcImNsaWNrXCIpO1xuICAgICAgICAgICAgICAgICQoJyNpZF9yZXZlYWwnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwicmV2ZWFsX3N1Ym1pc3Npb25fbmFtZVwiLCBhc3NpZ25tZW50OiBhc3NpZ25tZW50X2lkLCBzdWJtaXNzaW9uX2lkOiBzdWJtaXNzaW9uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogZW5jb2RlVVJJQ29tcG9uZW50KCQoXCIjaWRfYW5vbnltb3VzX3JldmVhbF9yZWFzb25cIikudmFsKCkpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmNvbG9yYm94LmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N1Ym1pc3Npb25fJyArIHN1Ym1pc3Npb25faWQpLmF0dHIoJ2hyZWYnLCBNLmNmZy53d3dyb290ICsgXCIvdXNlci92aWV3LnBocD9pZD1cIiArIGRhdGEudXNlcmlkICsgXCImY291cnNlPVwiICsgZGF0YS5jb3Vyc2VpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkKS5odG1sKGRhdGEubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkKS5yZW1vdmVDbGFzcygndW5hbm9ueW1pc2UgY2JveEVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudF9tc2cgPSAkKCcjdW5hbm9ueW1pc2VfZGVzYycpLmh0bWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN1bmFub255bWlzZV9kZXNjJykuaHRtbChjdXJyZW50X21zZyArIFwiIFwiICsgZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcudW5hbm9ueW1pc2VfZm9ybScpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZVVwbG9hZEJveChzY29wZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9IFwiLnVwbG9hZF9ib3hcIjtcbiAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSBcIiN1cGxvYWRfXCIgKyBzdWJtaXNzaW9uX2lkICsgXCJfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbG9yQm94V2lkdGggPSBcIjgwJVwiO1xuICAgICAgICB2YXIgY29sb3JCb3hIZWlnaHQgPSBcIjgwJVwiO1xuXG4gICAgICAgICQoaWRlbnRpZmllcikuY29sb3Jib3goe1xuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbigpIHsgaGlkZUxvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoSW5ib3hSb3coXCJ1cGxvYWRcIiwgaWRTdHJbMV0sIGlkU3RyWzJdLCBpZFN0clszXSk7XG5cbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpjb2xvckJveFdpZHRoLCBoZWlnaHQ6Y29sb3JCb3hIZWlnaHQsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJ1cGxvYWRcIiwgdHJhbnNpdGlvbjogXCJub25lXCJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgZXZlbnRzIHRvIG9wZW4gdGhlIHppcCBmaWxlcyBjb250YWluZWQgaW4gdGhlIHBhcnQgZGV0YWlscyBpbmZvcm1hdGlvbiB0YWJsZTpcbiAgICAvLyBJbmJveCBpbiBYTFMgZm9ybWF0XG4gICAgLy8gWklQIGNvbnRhaW5pbmcgYWxsIGZpbGVzIGFzIFBERnNcbiAgICAvLyBaSVAgY29udGFpbmluZyBhbGwgZmlsZXMgaW4gb3JpZ2luYWwgZm9ybWF0LlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VaaXBEb3dubG9hZHMocGFydF9pZCkge1xuICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdfemlwX29wZW4sICN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGRmX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnhsc19pbmJveF9vcGVuJykudW5iaW5kKFwiY2xpY2tcIik7XG5cbiAgICAgICAgLy8gT3BlbiBhIHNwcmVhZHNoZWV0IG9yIGEgemlwIGZpbGUgY29udGFpbmluZyBhbGwgdGhlIHJlbGV2YW50IGRhdGEuXG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ196aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZGZfemlwX29wZW4sICN0YWJzLScgKyBwYXJ0X2lkICsgJyAueGxzX2luYm94X29wZW4nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgIGRvd25sb2FkWmlwRmlsZShpZFN0clswXSArIFwiX1wiICsgaWRTdHJbMV0sIGlkU3RyWzJdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IHdoaWNoIHJlcXVlc3RzIGFsbCB0aGUgc3VibWlzc2lvbnMgYXMgcGRmcyBmcm9tIFR1cm5pdGluLlxuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmRvd25sb2FkcGRmX2JveCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjQwJVwiLCBoZWlnaHQ6XCI2MCVcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImRvd25sb2FkcGRmX3dpbmRvd1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFVzZXJNZXNzYWdlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggd2hpY2ggcmVxdWVzdHMgc2VsZWN0ZWQgc3VibWlzc2lvbnMgYXMgcGRmcyBmcm9tIFR1cm5pdGluLlxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5nbXBkZnppcF9ib3gnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBvcGVuOnRydWUsaWZyYW1lOnRydWUsIHdpZHRoOlwiNzg2cHhcIiwgaGVpZ2h0OlwiMzAwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImdtcGRmemlwX3dpbmRvd1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBocmVmOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWlzc2lvbl9pZHMgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25faWRzICs9IFwiJnN1Ym1pc3Npb25faWRcIiArIGkgKyBcIj1cIiArICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmF0dHIoJ2hyZWYnKSArIHN1Ym1pc3Npb25faWRzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHsgZ2V0TG9hZGluZ0dpZigpOyB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7IGhpZGVMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICAgICAgb25DbG9zZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVXNlck1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKSB7XG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCJ0aWlfY2xvc2VfYmFyXCI+PGEgaHJlZj1cIiNcIiBvbmNsaWNrPVwiJC5jb2xvcmJveC5jbG9zZSgpOyByZXR1cm4gZmFsc2U7XCI+JyArIE0uc3RyLnR1cm5pdGludG9vbHR3by5jbG9zZWJ1dHRvbiArICc8L2E+PC9kaXY+Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0KCkge1xuICAgICAgICBpZiAoJCgnLnRpaV9kaWdpdGFsX3JlY2VpcHQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcudGlpX2RpZ2l0YWxfcmVjZWlwdCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI4MzJweFwiLCBoZWlnaHQ6XCI0ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX3ZpZXdcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCgnI3RpaV9yZWNlaXB0X3ByaW50JykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5wcmludCgpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyhwYXJ0X2lkKSB7XG4gICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ2NoZWNrZWRfemlwX29wZW4nKS51bmJpbmQoXCJjbGlja1wiKTtcbiAgICAgICAgLy8gU2VwZXJhdGUgYmluZGVyIGZvciBoaWRkZW4gemlwIGZpbGUgbGluay5cbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnY2hlY2tlZF96aXBfb3BlbicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgZG93bmxvYWRaaXBGaWxlKGlkU3RyWzBdICsgXCJfXCIgKyBpZFN0clsxXSwgcGFydF9pZCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VSZWZyZXNoUm93KHNjb3BlLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgIHZhciBpZGVudGlmaWVyID0gXCIucmVmcmVzaF9yb3cgLmZhLXJlZnJlc2hcIjtcbiAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSBcIiNyZWZyZXNocm93X1wiICsgc3VibWlzc2lvbl9pZCArICdfJyArIHBhcnRfaWQgKyBcIl9cIiArIHVzZXJfaWQgKyBcIiAuZmEtcmVmcmVzaFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5iaW5kIHRoZSBldmVudCBmaXJzdCB0byBzdG9wIGl0IGJlaW5nIGJpbmRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgJChpZGVudGlmaWVyKS51bmJpbmQoXCJjbGlja1wiKTtcblxuICAgICAgICAkKGlkZW50aWZpZXIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZmEtc3Bpbm5lcicpLmNzcyhcImRpc3BsYXlcIixcImlubGluZS1ibG9ja1wiKS5hZGRDbGFzcygnZmEtbGcnKTtcbiAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykucGFyZW50KCkuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgIHJlZnJlc2hJbmJveFJvdyhpZFN0clswXSwgaWRTdHJbMV0sIGlkU3RyWzJdLCBpZFN0clszXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpc2UgdGhlIGV2ZW50cyB0byBvcGVuIHRoZSBkb2N1bWVudCB2aWV3ZXIgYXMgdGhlIGxpbmtzIGFyZSBsb2FkZWQgYWZ0ZXIgdGhlIHBhZ2UuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZURWTGF1bmNoZXJzKHNjb3BlLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgIHZhciBpZGVudGlmaWVyID0gJyMnICsgcGFydF9pZCArICcgLmRvd25sb2FkX29yaWdpbmFsX29wZW4nO1xuICAgICAgICBpZiAoc2NvcGUgPT0gXCJyb3dcIikge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9ICcjZG93bmxvYWRvcmlnaW5hbF8nICsgc3VibWlzc2lvbl9pZCArICdfJyArIHBhcnRfaWQgKyAnXycgKyB1c2VyX2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5iaW5kIHRoZSBldmVudCBmaXJzdCB0byBzdG9wIGl0IGJlaW5nIGJpbmRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgJChpZGVudGlmaWVyKS51bmJpbmQoXCJjbGlja1wiKTtcblxuICAgICAgICAkKGlkZW50aWZpZXIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgLy8gRG9uJ3Qgb3BlbiBPUiBEViBpZiBzY29yZSBpcyBwZW5kaW5nLlxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmNoaWxkcmVuKCcuc2NvcmVfY29sb3VyJykuaGFzQ2xhc3MoJ3Njb3JlX2NvbG91cl8nKSkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkT3JpZ2luYWxGaWxlKGlkU3RyWzBdLCBpZFN0clsxXSwgaWRTdHJbMl0sIGlkU3RyWzNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUHV0IHRoZSBmb3JtIGluIHRvIHRoZSBzdWJtaXNzaW9ucyB0YWJsZSByb3cgYW5kIHN1Ym1pdCBpdC5cbiAgICAvLyBUaGlzIHdpbGwgZG93bmxvYWQgdGhlIHJlbGV2YW50IHppcCBmaWxlLlxuICAgIGZ1bmN0aW9uIGRvd25sb2FkWmlwRmlsZShkb3dubG9hZHR5cGUsIHBhcnRfaWQpIHtcbiAgICAgICAgdmFyIHN1Ym1pc3Npb25faWRzID0gW107XG5cbiAgICAgICAgaWYgKGRvd25sb2FkdHlwZSA9PSBcIm9yaWdjaGVja2VkX3ppcFwiIHx8IGRvd25sb2FkdHlwZSA9PSBcImdtcGRmX3ppcFwiKSB7XG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25faWRzW2ldID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBkb3dubG9hZHR5cGUsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBwYXJ0OiBwYXJ0X2lkLCBzdWJtaXNzaW9uX2lkczogc3VibWlzc2lvbl9pZHN9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkb3dubG9hZHR5cGUgKyBcIl9mb3JtX1wiICsgcGFydF9pZCkuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgZG93bmxvYWR0eXBlICsgXCJfZm9ybV9cIiArIHBhcnRfaWQpLmNoaWxkcmVuKFwiZm9ybVwiKS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgZG93bmxvYWR0eXBlICsgXCJfZm9ybV9cIiArIHBhcnRfaWQpLmh0bWwoXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFB1dCB0aGUgZm9ybSBpbiB0byB0aGUgc3VibWlzc2lvbnMgdGFibGUgcm93IGFuZCBzdWJtaXQgaXQuXG4gICAgLy8gVGhpcyB3aWxsIGRvd25sb2FkIHRoZSByZWxldmFudCBvcmlnaW5hbCBmaWxlLlxuICAgIGZ1bmN0aW9uIGRvd25sb2FkT3JpZ2luYWxGaWxlKGR2dHlwZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAvLyBHZXQgaHRtbCB0byBsYXVuY2ggRFYuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IGR2dHlwZSwgc3VibWlzc2lvbjogc3VibWlzc2lvbl9pZCwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkdnR5cGUgKyBcIl9mb3JtX1wiICsgc3VibWlzc2lvbl9pZCkuaHRtbChkYXRhKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgZHZ0eXBlICsgXCJfZm9ybV9cIiArIHN1Ym1pc3Npb25faWQpLmNoaWxkcmVuKFwiZm9ybVwiKS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgZHZ0eXBlICsgXCJfZm9ybV9cIiArIHN1Ym1pc3Npb25faWQpLmh0bWwoXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIERWIGlzIHN0aWxsIG9wZW4sIHJlZnJlc2ggdGhlIG9wZW5pbmcgd2luZG93IHdoZW4gaXQgY2xvc2VzLlxuICAgIGZ1bmN0aW9uIGNoZWNrRFZDbG9zZWQoIHBhcnRfaWQgKSB7XG4gICAgICAgIGlmICh3aW5kb3cuZHZXaW5kb3cuY2xvc2VkKSB7XG4gICAgICAgICAgICAkKFwiI3JlZnJlc2hfXCIgKyBwYXJ0X2lkKS5jbGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjaGVja0RWQ2xvc2VkKHBhcnRfaWQpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluaXRpYXRlIGEgbm90aGluZyBzdWJtaXNzaW9uLlxuICAgIGZ1bmN0aW9uIHN1Ym1pdE5vdGhpbmcoIHVzZXJfaWQsIHBhcnRfaWQgKSB7XG4gICAgICAgICQoXCIjc3VibWl0bm90aGluZ18wX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCArIFwiIGlcIikuYXR0cignY2xhc3MnLCdmYSBmYS1zcGluIGZhLXNwaW5uZXIgZmEtbGcnKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBcInN1Ym1pdF9ub3RoaW5nXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLFxuICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnRfaWQsIHVzZXI6IHVzZXJfaWQsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgJC5jb29raWUoICdzdWJtaXRub3RoaW5nYWNjZXB0JywgdHJ1ZSwgeyBleHBpcmVzOiAzNjUgfSApO1xuICAgICAgICAgICAgICAgICQoJ3RhYmxlIycgKyBwYXJ0X2lkICsgJyAuc2VsZWN0X2FsbF9jaGVja2JveCcpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKFwiI3N1Ym1pdG5vdGhpbmdfMF9cIiArIHBhcnRfaWQgKyBcIl9cIiArIHVzZXJfaWQgKyBcIiBpXCIpLmF0dHIoJ2NsYXNzJywnZmEgZmEtcGVuY2lsIGZhLWxnJyk7XG4gICAgICAgICAgICAgICAgJChcIiNzdWJtaXRub3RoaW5nXzBfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBhbGVydCggZGF0YS5yZXNwb25zZVRleHQgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVmcmVzaEluYm94Um93KCAnc3VibWl0bm90aGluZycsIDAsIHBhcnRfaWQsIHVzZXJfaWQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVmcmVzaCBhIHJvdyBpbiB0aGUgaW5ib3ggYWZ0ZXIgYSBzdWJtaXNzaW9uIGhhcyBiZWVuIG1hZGUgb3IgRFYgY2xvc2VkLlxuICAgIGZ1bmN0aW9uIHJlZnJlc2hJbmJveFJvdyhsaW5rLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJyZWZyZXNoX3N1Ym1pc3Npb25fcm93XCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLFxuICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnRfaWQsIHVzZXI6IHVzZXJfaWQsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJ3RhYmxlIycgKyBwYXJ0X2lkICsgJyAuc2VsZWN0X2FsbF9jaGVja2JveCcpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHN1Ym1pc3Npb25faWQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5rICs9IFwiXzBcIjtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbl9pZCA9IGRhdGEuc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3VibWlzc2lvbl9pZCA9PSBudWxsICYmIHN1Ym1pc3Npb25faWQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5rID0gbGluayArIFwiX1wiICsgc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaW5rID0gbGluayArIFwiX1wiICsgZGF0YS5zdWJtaXNzaW9uX2lkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTaG93IGV4cG9ydCBsaW5rcy5cbiAgICAgICAgICAgICAgICBpZiAoc3VibWlzc2lvbl9pZCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNleHBvcnRfbGlua3MnKS5yZW1vdmVDbGFzcygnaGlkZGVuX2NsYXNzJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSByb3cgYW5kIHJlLWFkZC5cbiAgICAgICAgICAgICAgICBvVGFibGUgPSAkKCd0YWJsZSMnICsgcGFydF9pZCkuZGF0YVRhYmxlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRyID0gJChcIiNcIiArIGxpbmsgKyBcIl9cIiArIHBhcnRfaWQgKyAnXycgKyB1c2VyX2lkKS5wYXJlbnQoKS5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgcm93aW5kZXggPSB0ci5pbmRleCgpO1xuICAgICAgICAgICAgICAgIG9UYWJsZS5mbkRlbGV0ZVJvdyh0cik7XG4gICAgICAgICAgICAgICAgb1RhYmxlLmZuQWRkRGF0YShkYXRhLnJvdyk7XG5cbiAgICAgICAgICAgICAgICBzdWJtaXRWaXNpYmlsaXR5KCk7XG5cbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlVXBsb2FkQm94KFwicm93XCIsIGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZURWTGF1bmNoZXJzKFwicm93XCIsIGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVJlZnJlc2hSb3coXCJyb3dcIiwgZGF0YS5zdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlQ2hlY2tib3hlcyhkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVbmFub3ltaXNlRm9ybShcInJvd1wiLCAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgZGF0YS5zdWJtaXNzaW9uX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBkb3dubG9hZCBsaW5rcyB3aGVuIGNoZWNrYm94ZXMgaGF2ZSBiZWVuIHRpY2tlZC5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlQ2hlY2tib3hlcyhzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkKSB7XG4gICAgICAgIHZhciBpZGVudGlmaWVyID0gJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3gnO1xuICAgICAgICBpZiAoc3VibWlzc2lvbl9pZCAhPSAwKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyID0gJ2NoZWNrXycgKyBzdWJtaXNzaW9uX2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgndGFibGUjJyArIHBhcnRfaWQgKyAnIC5zZWxlY3RfYWxsX2NoZWNrYm94JykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgaWRlbnRpZmllciArICcsIC5zZWxlY3RfYWxsX2NoZWNrYm94JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5pbmJveF9jaGVja2JveDpjaGVja2VkJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuemlwX2Rvd25sb2FkcycpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VIaWRkZW5aaXBEb3dubG9hZHMocGFydF9pZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnY2hlY2tlZF96aXBfb3BlbicpLnVuYmluZCgnY2xpY2snKTtcbiAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3cgdGhlIGRhdGUgYW5kIG1hcmtzIG9wdGlvbnMgZm9yIHRoZSByZWxldmFudCBudW1iZXIgb2YgcGFydHMgd2hlbiBjcmVhdGluZy9lZGl0aW5nIGFzc2lnbm1lbnQuXG4gICAgZnVuY3Rpb24gc2hvd1BhcnREYXRlc0JveGVzKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSA1OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIDw9ICQoXCIjaWRfbnVtcGFydHNcIikudmFsKCkpIHtcbiAgICAgICAgICAgICAgICAkKCdmaWVsZHNldFtpZCQ9XCJwYXJ0ZGF0ZXMnICsgaSArICdcIl0nKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnZmllbGRzZXRbaWQkPVwicGFydGRhdGVzJyArIGkgKyAnXCJdJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCgnLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdpZCcpO1xuXG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICBpZiAoICQoJyMnICsgaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKCcjJyArIGlkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjJyArIGlkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCAkKCcjJyArIGlkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIGlkICsgJyAuemlwX2Rvd25sb2FkcycpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2V0dGluZ3MgcGFnZSBwYXJ0cyB3YXJuaW5nLlxuICAgICQoJ1tpZF49Zml0ZW1faWRfZHRwb3N0XSBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEdldCBwYXJ0IGlkIGZyb20gdGl0bGUuXG4gICAgICAgIHZhciBkYXRhRWwgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpO1xuICAgICAgICB2YXIgcG9zdF9kYXRlID0gYnVpbGRVbml4RGF0ZSgnI2ZpdGVtX2lkX2R0cG9zdCcsIGRhdGFFbC5kYXRhKCdwYXJ0SWQnKSk7XG5cbiAgICAgICAgaWYgKCBwb3N0X2RhdGUgPCBtb21lbnQoKS51bml4KCkgJiYgZGF0YUVsLmRhdGEoJ2Fub24nKSA9PSAxICYmIGRhdGFFbC5kYXRhKCd1bmFub24nKSA9PSAwICYmIGRhdGFFbC5kYXRhKCdzdWJtaXR0ZWQnKSA9PSAxICkge1xuICAgICAgICAgICAgYWxlcnQoTS5zdHIudHVybml0aW50b29sdHdvLmFub25hbGVydCk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgdmFyIGJ1aWxkVW5peERhdGUgPSBmdW5jdGlvbihlbCwgcGFydF9pZCkge1xuICAgICAgICAvLyBPcHRpb24gaWQncy5cbiAgICAgICAgdmFyIHN0YXJ0ID0gWyAnX2RheScsICdfbW9udGgnLCAnX3llYXInLCAnX2hvdXInLCAnX21pbnV0ZScgXTtcblxuICAgICAgICAkdGhpcyA9ICQoZWwgKyBwYXJ0X2lkKTtcblxuICAgICAgICAvLyBCdWlsZCBkYXRlOnRpbWUgc3RyaW5nLlxuICAgICAgICB2YXIgZGF0ZSA9ICcnO1xuICAgICAgICAkLmVhY2goc3RhcnQsIGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgICAgICAgIGRhdGUgKz0gJHRoaXMuZmluZCgnW2lkJD0nICsgcGFydF9pZCArIHYgKyAnXSBvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCk7XG4gICAgICAgICAgICBpZiAodiA9PT0gJ195ZWFyJykge1xuICAgICAgICAgICAgICAgIGRhdGUgKz0gJyAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2ID09PSAnX2hvdXInKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSArPSAnOic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB2ICE9PSAnX21pbnV0ZScpIHtcbiAgICAgICAgICAgICAgICBkYXRlICs9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmV0dXJuIGNvbnZlcnRlZCBtb21lbnQgb2JqZWN0LlxuICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUsIFwiREQtTU1NTS1ZWVlZIGhoOm1tXCIpLnVuaXgoKTtcbiAgICB9XG59KTtcbiJdfQ==
