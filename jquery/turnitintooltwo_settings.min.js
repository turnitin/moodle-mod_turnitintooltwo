jQuery(document).ready(function($){if($(".settingsform fieldset div.formsettingheading").length>0){var tabmenu=$(".settingsform fieldset div.formsettingheading:first").html();tabmenu.indexOf("tabtree")>=0&&($(".settingsform fieldset div.formsettingheading:first").remove(),$(".settingsform h2:first").after(tabmenu))}$('input[name="selectallcb"]').click(function(){$(this).prop("checked")?($(".browser_checkbox").prop("checked",!0),$(".browser_checkbox:checked").length>0?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()):($(".browser_checkbox").prop("checked",!1),$(".create_checkboxes").slideUp())}),$(".tii_upgrade_check").click(function(t){t.preventDefault();var e="ajax.php";$(".settingsform fieldset div.formsettingheading").length>0&&(e="../mod/turnitintooltwo/ajax.php"),$(".tii_upgrade_check").hide(),$(".tii_upgrading_check").css("display","inline-block");var i=$(this).attr("id").split("_")[1];$.ajax({type:"POST",url:e,dataType:"html",data:{action:"check_upgrade",current_version:i,sesskey:M.cfg.sesskey},success:function(t){var t=$.parseJSON(t);1===t.update?($(".tii_upgrade_check").hide(),$(".tii_upgrading_check").hide(),$(".tii_no_upgrade").html('<a href="'+t.file[0]+'">'+M.str.turnitintooltwo.upgradeavailable+"</a>")):($(".tii_upgrading_check").hide(),$(".tii_upgrade_check").show())}})}),$(".test_connection").length>0&&(""==$("#id_s_turnitintooltwo_accountid").val()&&""==$("#id_s_turnitintooltwo_secretkey").val()||($(".test_connection").show(),$("#test_link").show()),$("#id_s_turnitintooltwo_accountid, #id_s_turnitintooltwo_secretkey, #id_s_turnitintooltwo_apiurl").keyup(function(){$("#testing_container").hide();var t=$("#id_s_turnitintooltwo_accountid").val(),e=$("#id_s_turnitintooltwo_secretkey").val();t=t.trim(),e=e.trim(),0==t.length||0==e.length?($("#test_result").hide(),$(".test_connection").hide()):($(".test_connection").show(),$("#test_link").show())}),$("#test_link").click(function(){$("#test_result").hide(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!0),$("#test_link").hide(),$("#test_result").css("opacity",""),$("#test_result").removeClass("test_link_success test_link_fail"),$("#testing_container").show();var url="ajax.php";$(".settingsform fieldset div.formsettingheading").length>0&&(url="../mod/turnitintooltwo/ajax.php");var accountid=$("#id_s_turnitintooltwo_accountid").val(),accountshared=$("#id_s_turnitintooltwo_secretkey").val(),accounturl=$("#id_s_turnitintooltwo_apiurl").val();$.ajax({type:"POST",url:url,dataType:"json",data:{action:"test_connection",sesskey:M.cfg.sesskey,accountid:accountid,accountshared:accountshared,url:accounturl},success:function(data){eval(data),$("#testing_container").hide(),"success"==data.connection_status?$("#test_result").addClass("test_link_success"):$("#test_result").addClass("test_link_fail"),$("#test_result").html(data.msg),$("#test_result").show(),$("#test_link").show(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!1)}})}))});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3b19zZXR0aW5ncy5qcyJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImxlbmd0aCIsInRhYm1lbnUiLCJodG1sIiwiaW5kZXhPZiIsInJlbW92ZSIsImFmdGVyIiwiY2xpY2siLCJ0aGlzIiwicHJvcCIsInNsaWRlRG93biIsInNsaWRlVXAiLCJlIiwicHJldmVudERlZmF1bHQiLCJ1cmwiLCJoaWRlIiwiY3NzIiwiY3VycmVudF92ZXJzaW9uIiwiYXR0ciIsInNwbGl0IiwiYWpheCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJhY3Rpb24iLCJzZXNza2V5IiwiTSIsImNmZyIsInN1Y2Nlc3MiLCJwYXJzZUpTT04iLCJzdHIiLCJ0dXJuaXRpbnRvb2x0d28iLCJ1cGdyYWRlYXZhaWxhYmxlIiwic2hvdyIsInZhbCIsImtleXVwIiwiYWNjb3VudGlkIiwiYWNjb3VudHNoYXJlZCIsInRyaW0iLCJyZW1vdmVDbGFzcyIsImFjY291bnR1cmwiLCJldmFsIiwiY29ubmVjdGlvbl9zdGF0dXMiLCJhZGRDbGFzcyIsIm1zZyJdLCJtYXBwaW5ncyI6IkFBS0FBLE9BQU9DLFVBQVVDLE1BQU0sU0FBU0MsR0FDNUIsR0FBSUEsRUFBRSxpREFBaURDLE9BQVMsRUFBRyxDQUMvRCxHQUFJQyxTQUFVRixFQUFFLHVEQUF1REcsTUFDbkVELFNBQVFFLFFBQVEsWUFBYyxJQUM5QkosRUFBRSx1REFBdURLLFNBQ3pETCxFQUFFLDBCQUEwQk0sTUFBTUosVUFJMUNGLEVBQUUsNkJBQTZCTyxNQUFNLFdBQzdCUCxFQUFFUSxNQUFNQyxLQUFLLFlBQ2JULEVBQUUscUJBQXFCUyxLQUFLLFdBQVcsR0FDbkNULEVBQUUsNkJBQTZCQyxPQUFTLEVBQ3hDRCxFQUFFLHNCQUFzQlUsWUFFeEJWLEVBQUUsc0JBQXNCVyxZQUc1QlgsRUFBRSxxQkFBcUJTLEtBQUssV0FBVyxHQUN2Q1QsRUFBRSxzQkFBc0JXLGFBSWhDWCxFQUFFLHNCQUFzQk8sTUFBTSxTQUFTSyxHQUNuQ0EsRUFBRUMsZ0JBRUYsSUFBSUMsR0FBTSxVQUNOZCxHQUFFLGlEQUFpREMsT0FBUyxJQUM1RGEsRUFBTSxtQ0FHVmQsRUFBRSxzQkFBc0JlLE9BQ3hCZixFQUFFLHdCQUF3QmdCLElBQUksVUFBVyxlQUN6QyxJQUFJQyxHQUFrQmpCLEVBQUVRLE1BQU1VLEtBQUssTUFBTUMsTUFBTSxLQUFLLEVBRXBEbkIsR0FBRW9CLE1BQ0VDLEtBQU0sT0FDTlAsSUFBS0EsRUFDTFEsU0FBVSxPQUNWQyxNQUFPQyxPQUFRLGdCQUFpQlAsZ0JBQWlCQSxFQUFpQlEsUUFBU0MsRUFBRUMsSUFBSUYsU0FDakZHLFFBQVMsU0FBU0wsR0FDZCxHQUFJQSxHQUFPdkIsRUFBRTZCLFVBQVVOLEVBRUEsS0FBbkJBLEVBQWEsUUFDYnZCLEVBQUUsc0JBQXNCZSxPQUN4QmYsRUFBRSx3QkFBd0JlLE9BQzFCZixFQUFFLG1CQUFtQkcsS0FBSyxZQUFjb0IsRUFBVyxLQUFFLEdBQUssS0FBT0csRUFBRUksSUFBSUMsZ0JBQWdCQyxpQkFBbUIsVUFFMUdoQyxFQUFFLHdCQUF3QmUsT0FDMUJmLEVBQUUsc0JBQXNCaUMsYUFNcENqQyxFQUFFLG9CQUFvQkMsT0FBUyxJQUNtQixJQUE5Q0QsRUFBRSxtQ0FBbUNrQyxPQUE2RCxJQUE5Q2xDLEVBQUUsbUNBQW1Da0MsUUFDekZsQyxFQUFFLG9CQUFvQmlDLE9BQ3RCakMsRUFBRSxjQUFjaUMsUUFHcEJqQyxFQUFFLGtHQUFrR21DLE1BQU0sV0FDdEduQyxFQUFFLHNCQUFzQmUsTUFFeEIsSUFBSXFCLEdBQVlwQyxFQUFFLG1DQUFtQ2tDLE1BQ2pERyxFQUFnQnJDLEVBQUUsbUNBQW1Da0MsS0FHekRFLEdBQVlBLEVBQVVFLE9BQ3RCRCxFQUFnQkEsRUFBY0MsT0FDTixHQUFwQkYsRUFBVW5DLFFBQXVDLEdBQXhCb0MsRUFBY3BDLFFBQ3ZDRCxFQUFFLGdCQUFnQmUsT0FDbEJmLEVBQUUsb0JBQW9CZSxTQUV0QmYsRUFBRSxvQkFBb0JpQyxPQUN0QmpDLEVBQUUsY0FBY2lDLFVBSXhCakMsRUFBRSxjQUFjTyxNQUFNLFdBQ2xCUCxFQUFFLGdCQUFnQmUsT0FDbEJmLEVBQUUsdUNBQXVDUyxLQUFLLFlBQVksR0FDMURULEVBQUUsY0FBY2UsT0FDaEJmLEVBQUUsZ0JBQWdCZ0IsSUFBSSxVQUFXLElBQ2pDaEIsRUFBRSxnQkFBZ0J1QyxZQUFZLG9DQUM5QnZDLEVBQUUsc0JBQXNCaUMsTUFHeEIsSUFBSW5CLEtBQU0sVUFDTmQsR0FBRSxpREFBaURDLE9BQVMsSUFDNURhLElBQU0sa0NBR1YsSUFBSXNCLFdBQVlwQyxFQUFFLG1DQUFtQ2tDLE1BQ2pERyxjQUFnQnJDLEVBQUUsbUNBQW1Da0MsTUFDckRNLFdBQWF4QyxFQUFFLGdDQUFnQ2tDLEtBRW5EbEMsR0FBRW9CLE1BQ0VDLEtBQU0sT0FDTlAsSUFBS0EsSUFDTFEsU0FBVSxPQUNWQyxNQUFPQyxPQUFRLGtCQUFtQkMsUUFBU0MsRUFBRUMsSUFBSUYsUUFBU1csVUFBV0EsVUFBV0MsY0FBZUEsY0FBZXZCLElBQUswQixZQUNuSFosUUFBUyxTQUFTTCxNQUNka0IsS0FBS2xCLE1BRUx2QixFQUFFLHNCQUFzQmUsT0FFTSxXQUExQlEsS0FBS21CLGtCQUNMMUMsRUFBRSxnQkFBZ0IyQyxTQUFTLHFCQUUzQjNDLEVBQUUsZ0JBQWdCMkMsU0FBUyxrQkFHL0IzQyxFQUFFLGdCQUFnQkcsS0FBS29CLEtBQUtxQixLQUM1QjVDLEVBQUUsZ0JBQWdCaUMsT0FDbEJqQyxFQUFFLGNBQWNpQyxPQUNoQmpDLEVBQUUsdUNBQXVDUyxLQUFLLFlBQVkiLCJmaWxlIjoidHVybml0aW50b29sdHdvX3NldHRpbmdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBUaGlzIHNtYWxsIHBpZWNlIG9mIHNjcmlwdCBpcyBhIHdvcmthcm91bmQgdGhhdCdzIG5lZWRlZCB0byBhZGQgdGFicyBpbiB0b1xuICogdGhlIHNldHRpbmdzIHBhZ2UuIFRoZXkgbmVlZCB0byBiZSByZW1vdmVkIGZyb20gdGhlIHNldHRpbmdzIGZvcm0gYW5kIHBsYWNlZFxuICogb3V0c2lkZSB0aGF0IGNvbnRhaW5pbmcgZmllbGRzZXQuXG4gKi9cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICAgIGlmICgkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmcnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YWJtZW51ID0gJCgnLnNldHRpbmdzZm9ybSBmaWVsZHNldCBkaXYuZm9ybXNldHRpbmdoZWFkaW5nOmZpcnN0JykuaHRtbCgpO1xuICAgICAgICBpZiAodGFibWVudS5pbmRleE9mKFwidGFidHJlZVwiKSA+PSAwKSB7XG4gICAgICAgICAgICAkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmc6Zmlyc3QnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoJy5zZXR0aW5nc2Zvcm0gaDI6Zmlyc3QnKS5hZnRlcih0YWJtZW51KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoJ2lucHV0W25hbWU9XCJzZWxlY3RhbGxjYlwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgICQoJy5icm93c2VyX2NoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCQoJy5icm93c2VyX2NoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5jcmVhdGVfY2hlY2tib3hlcycpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5icm93c2VyX2NoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICQoJy5jcmVhdGVfY2hlY2tib3hlcycpLnNsaWRlVXAoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnRpaV91cGdyYWRlX2NoZWNrJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIENoYW5nZSBVcmwgZGVwZW5kaW5nIG9uIFNldHRpbmdzIHBhZ2UuXG4gICAgICAgIHZhciB1cmwgPSBcImFqYXgucGhwXCI7XG4gICAgICAgIGlmICgkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmcnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB1cmwgPSBcIi4uL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy50aWlfdXBncmFkZV9jaGVjaycpLmhpZGUoKTtcbiAgICAgICAgJCgnLnRpaV91cGdyYWRpbmdfY2hlY2snKS5jc3MoJ2Rpc3BsYXknLCAnaW5saW5lLWJsb2NrJyk7XG4gICAgICAgIHZhciBjdXJyZW50X3ZlcnNpb24gPSAkKHRoaXMpLmF0dHIoJ2lkJykuc3BsaXQoJ18nKVsxXTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwiY2hlY2tfdXBncmFkZVwiLCBjdXJyZW50X3ZlcnNpb246IGN1cnJlbnRfdmVyc2lvbiwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkLnBhcnNlSlNPTihkYXRhKVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbJ3VwZGF0ZSddID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy50aWlfdXBncmFkZV9jaGVjaycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV91cGdyYWRpbmdfY2hlY2snKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy50aWlfbm9fdXBncmFkZScpLmh0bWwoJzxhIGhyZWY9XCInICsgZGF0YVsnZmlsZSddWzBdICsgJ1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28udXBncmFkZWF2YWlsYWJsZSArICc8L2E+Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV91cGdyYWRpbmdfY2hlY2snKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy50aWlfdXBncmFkZV9jaGVjaycpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoJy50ZXN0X2Nvbm5lY3Rpb24nKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICgkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fYWNjb3VudGlkJykudmFsKCkgIT0gJycgfHwgJCgnI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleScpLnZhbCgpICE9ICcnKSB7XG4gICAgICAgICAgICAkKCcudGVzdF9jb25uZWN0aW9uJykuc2hvdygpO1xuICAgICAgICAgICAgJCgnI3Rlc3RfbGluaycpLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQsICNpZF9zX3R1cm5pdGludG9vbHR3b19zZWNyZXRrZXksICNpZF9zX3R1cm5pdGludG9vbHR3b19hcGl1cmwnKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJyN0ZXN0aW5nX2NvbnRhaW5lcicpLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIGFjY291bnRpZCA9ICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBhY2NvdW50c2hhcmVkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleScpLnZhbCgpO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhleSBhcmVuJ3QgZW1wdHkgc3RyaW5ncy5cbiAgICAgICAgICAgIGFjY291bnRpZCA9IGFjY291bnRpZC50cmltKCk7XG4gICAgICAgICAgICBhY2NvdW50c2hhcmVkID0gYWNjb3VudHNoYXJlZC50cmltKCk7XG4gICAgICAgICAgICBpZiAoYWNjb3VudGlkLmxlbmd0aCA9PSAwIHx8IGFjY291bnRzaGFyZWQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnRlc3RfY29ubmVjdGlvbicpLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLnRlc3RfY29ubmVjdGlvbicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjdGVzdF9saW5rJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCdpbnB1dCwgI2lkX3NfdHVybml0aW50b29sdHdvX2FwaXVybCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuaGlkZSgpO1xuICAgICAgICAgICAgJChcIiN0ZXN0X3Jlc3VsdFwiKS5jc3MoJ29wYWNpdHknLCAnJyk7XG4gICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5yZW1vdmVDbGFzcygndGVzdF9saW5rX3N1Y2Nlc3MgdGVzdF9saW5rX2ZhaWwnKTtcbiAgICAgICAgICAgICQoJyN0ZXN0aW5nX2NvbnRhaW5lcicpLnNob3coKTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIFVybCBkZXBlbmRpbmcgb24gU2V0dGluZ3MgcGFnZS5cbiAgICAgICAgICAgIHZhciB1cmwgPSBcImFqYXgucGhwXCI7XG4gICAgICAgICAgICBpZiAoJCgnLnNldHRpbmdzZm9ybSBmaWVsZHNldCBkaXYuZm9ybXNldHRpbmdoZWFkaW5nJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiLi4vbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYWNjb3VudGlkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FjY291bnRpZCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGFjY291bnRzaGFyZWQgPSAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fc2VjcmV0a2V5JykudmFsKCk7XG4gICAgICAgICAgICB2YXIgYWNjb3VudHVybCA9ICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hcGl1cmwnKS52YWwoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJ0ZXN0X2Nvbm5lY3Rpb25cIiwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleSwgYWNjb3VudGlkOiBhY2NvdW50aWQsIGFjY291bnRzaGFyZWQ6IGFjY291bnRzaGFyZWQsIHVybDogYWNjb3VudHVybH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0aW5nX2NvbnRhaW5lcicpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0aW9uX3N0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RfcmVzdWx0JykuYWRkQ2xhc3MoJ3Rlc3RfbGlua19zdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5hZGRDbGFzcygndGVzdF9saW5rX2ZhaWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmh0bWwoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X2xpbmsnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0LCAjaWRfc190dXJuaXRpbnRvb2x0d29fYXBpdXJsJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
