define(["jquery","core/ajax"],function(a,b){function c(){var c=b.call([{methodname:"mod_turnitintooltwo_get_submission_status",args:{submissionid:d}}]);c[0].done(function(b){"queued"!=b.status&&(a("#tiisubstatus").html(b.message),window.clearInterval(e))}),c[0].fail(function(a){console.log(a),window.clearInterval(e)})}var d,e;return{init:function(a){d=a,e=window.setInterval(c,1e3)}}});