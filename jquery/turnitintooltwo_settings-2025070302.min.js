$(document).ready(function($){var tabmenu;0<$(".settingsform fieldset div.formsettingheading").length&&(tabmenu=$(".settingsform fieldset div.formsettingheading:first").html(),0<=tabmenu.indexOf("tabtree"))&&($(".settingsform fieldset div.formsettingheading:first").remove(),$(".settingsform h2:first").after(tabmenu)),$('input[name="selectallcb"]').click(function(){$(this).prop("checked")?($(".browser_checkbox").prop("checked",!0),0<$(".browser_checkbox:checked").length?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()):($(".browser_checkbox").prop("checked",!1),$(".create_checkboxes").slideUp())}),0<$(".test_connection").length&&(""==$("#id_s_turnitintooltwo_accountid").val()&&""==$("#id_s_turnitintooltwo_secretkey").val()||($(".test_connection").show(),$("#test_link").show()),$("#id_s_turnitintooltwo_accountid, #id_s_turnitintooltwo_secretkey, #id_s_turnitintooltwo_apiurl").keyup(function(){$("#testing_container").hide();var t=$("#id_s_turnitintooltwo_accountid").val(),e=$("#id_s_turnitintooltwo_secretkey").val(),t=t.trim(),e=e.trim();0==t.length||0==e.length?($("#test_result").hide(),$(".test_connection").hide()):($(".test_connection").show(),$("#test_link").show())}),$("#test_link").click(function(){$("#test_result").hide(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!0),$("#test_link").hide(),$("#test_result").css("opacity",""),$("#test_result").removeClass("test_link_success test_link_fail"),$("#testing_container").show(),url=M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php";var accountid=$("#id_s_turnitintooltwo_accountid").val(),accountshared=$("#id_s_turnitintooltwo_secretkey").val(),accounturl=$("#id_s_turnitintooltwo_apiurl").val();$.ajax({type:"POST",url:url,dataType:"json",data:{action:"test_connection",sesskey:M.cfg.sesskey,accountid:accountid,accountshared:accountshared,url:accounturl},success:function(data){eval(data),$("#testing_container").hide(),"success"==data.connection_status?$("#test_result").addClass("test_link_success"):$("#test_result").addClass("test_link_fail"),$("#test_result").html(data.msg),$("#test_result").show(),$("#test_link").show(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!1)}})}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHVybml0aW50b29sdHdvX3NldHRpbmdzLTIwMjUwNzAzMDIubWluLmpzIiwic291cmNlcyI6WyJ0dXJuaXRpbnRvb2x0d29fc2V0dGluZ3MtMjAyNTA3MDMwMi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogVGhpcyBzbWFsbCBwaWVjZSBvZiBzY3JpcHQgaXMgYSB3b3JrYXJvdW5kIHRoYXQncyBuZWVkZWQgdG8gYWRkIHRhYnMgaW4gdG9cbiAqIHRoZSBzZXR0aW5ncyBwYWdlLiBUaGV5IG5lZWQgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzZXR0aW5ncyBmb3JtIGFuZCBwbGFjZWRcbiAqIG91dHNpZGUgdGhhdCBjb250YWluaW5nIGZpZWxkc2V0LlxuICovXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICAgaWYgKCQoJy5zZXR0aW5nc2Zvcm0gZmllbGRzZXQgZGl2LmZvcm1zZXR0aW5naGVhZGluZycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRhYm1lbnUgPSAkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmc6Zmlyc3QnKS5odG1sKCk7XG4gICAgICAgIGlmICh0YWJtZW51LmluZGV4T2YoXCJ0YWJ0cmVlXCIpID49IDApIHtcbiAgICAgICAgICAgICQoJy5zZXR0aW5nc2Zvcm0gZmllbGRzZXQgZGl2LmZvcm1zZXR0aW5naGVhZGluZzpmaXJzdCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnLnNldHRpbmdzZm9ybSBoMjpmaXJzdCcpLmFmdGVyKHRhYm1lbnUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCgnaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICAgJCgnLmJyb3dzZXJfY2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoJCgnLmJyb3dzZXJfY2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcuY3JlYXRlX2NoZWNrYm94ZXMnKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLmJyb3dzZXJfY2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVVcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoJCgnLnRlc3RfY29ubmVjdGlvbicpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQnKS52YWwoKSAhPSAnJyB8fCAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fc2VjcmV0a2V5JykudmFsKCkgIT0gJycpIHtcbiAgICAgICAgICAgICQoJy50ZXN0X2Nvbm5lY3Rpb24nKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FjY291bnRpZCwgI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleSwgI2lkX3NfdHVybml0aW50b29sdHdvX2FwaXVybCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnI3Rlc3RpbmdfY29udGFpbmVyJykuaGlkZSgpO1xuXG4gICAgICAgICAgICB2YXIgYWNjb3VudGlkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FjY291bnRpZCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGFjY291bnRzaGFyZWQgPSAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fc2VjcmV0a2V5JykudmFsKCk7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGV5IGFyZW4ndCBlbXB0eSBzdHJpbmdzLlxuICAgICAgICAgICAgYWNjb3VudGlkID0gYWNjb3VudGlkLnRyaW0oKTtcbiAgICAgICAgICAgIGFjY291bnRzaGFyZWQgPSBhY2NvdW50c2hhcmVkLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChhY2NvdW50aWQubGVuZ3RoID09IDAgfHwgYWNjb3VudHNoYXJlZC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcudGVzdF9jb25uZWN0aW9uJykuaGlkZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcudGVzdF9jb25uZWN0aW9uJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyN0ZXN0X2xpbmsnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyN0ZXN0X2xpbmsnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJ2lucHV0LCAjaWRfc190dXJuaXRpbnRvb2x0d29fYXBpdXJsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICQoJyN0ZXN0X2xpbmsnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiI3Rlc3RfcmVzdWx0XCIpLmNzcygnb3BhY2l0eScsICcnKTtcbiAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLnJlbW92ZUNsYXNzKCd0ZXN0X2xpbmtfc3VjY2VzcyB0ZXN0X2xpbmtfZmFpbCcpO1xuICAgICAgICAgICAgJCgnI3Rlc3RpbmdfY29udGFpbmVyJykuc2hvdygpO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgVXJsIGRlcGVuZGluZyBvbiBTZXR0aW5ncyBwYWdlLlxuICAgICAgICAgICAgdXJsID0gTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIjtcblxuICAgICAgICAgICAgdmFyIGFjY291bnRpZCA9ICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBhY2NvdW50c2hhcmVkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleScpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGFjY291bnR1cmwgPSAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fYXBpdXJsJykudmFsKCk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwidGVzdF9jb25uZWN0aW9uXCIsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXksIGFjY291bnRpZDogYWNjb3VudGlkLCBhY2NvdW50c2hhcmVkOiBhY2NvdW50c2hhcmVkLCB1cmw6IGFjY291bnR1cmx9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdGluZ19jb250YWluZXInKS5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGlvbl9zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmFkZENsYXNzKCd0ZXN0X2xpbmtfc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RfcmVzdWx0JykuYWRkQ2xhc3MoJ3Rlc3RfbGlua19mYWlsJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5odG1sKGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RfcmVzdWx0Jykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dCwgI2lkX3NfdHVybml0aW50b29sdHdvX2FwaXVybCcpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KTsiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ0YWJtZW51IiwibGVuZ3RoIiwiaHRtbCIsImluZGV4T2YiLCJyZW1vdmUiLCJhZnRlciIsImNsaWNrIiwidGhpcyIsInByb3AiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwidmFsIiwic2hvdyIsImtleXVwIiwiaGlkZSIsImFjY291bnRpZCIsImFjY291bnRzaGFyZWQiLCJ0cmltIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJ1cmwiLCJNIiwiY2ZnIiwid3d3cm9vdCIsImFjY291bnR1cmwiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiZGF0YSIsImFjdGlvbiIsInNlc3NrZXkiLCJzdWNjZXNzIiwiZXZhbCIsImNvbm5lY3Rpb25fc3RhdHVzIiwiYWRkQ2xhc3MiLCJtc2ciXSwibWFwcGluZ3MiOiJBQUtBQSxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sU0FBU0YsR0FDdkIsSUFDUUcsUUFEd0QsRUFBNURILEVBQUUsK0NBQStDLEVBQUVJLFNBQy9DRCxRQUFVSCxFQUFFLHFEQUFxRCxFQUFFSyxLQUFLLEVBQzFDLEdBQTlCRixRQUFRRyxRQUFRLFNBQVMsS0FDekJOLEVBQUUscURB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
